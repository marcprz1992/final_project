var gertcha=gertcha||function(e){e()};gertcha((function(){!function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);p.length;)p.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,s=1;s<o.length;s++){var c=o[s];0!==r[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},r={32:0},a=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],o=r[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=n);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({2:"dynamic-buylist-group.bundle~dynamic-buylist.bundle~dynamic-categories.bundle~dynamic-favorites.bund~bb631f8e",3:"dynamic-buylist-group.bundle~dynamic-buylist.bundle~dynamic-categories.bundle~dynamic-favorites.bund~2ea4f844",4:"dynamic-book-a-slot.bundle~dynamic-choose-a-location.bundle",5:"dynamic-book-a-slot-hub.bundle",6:"dynamic-book-a-slot.bundle",7:"dynamic-buylist-group.bundle",8:"dynamic-buylist.bundle",9:"dynamic-categories.bundle",10:"dynamic-choose-a-location.bundle",11:"dynamic-favorites.bundle",12:"dynamic-home.bundle",13:"dynamic-multi-search.bundle",14:"dynamic-product-details.bundle",15:"dynamic-promotion-list.bundle",16:"dynamic-promotions-home.bundle",17:"dynamic-ratings-reviews-submission.bundle",18:"dynamic-ratings-reviews-thankyou.bundle",19:"dynamic-search.bundle",20:"dynamic-shop-all-groceries.bundle",21:"dynamic-trolley.bundle",22:"dynamic-zone.bundle",44:"vendors~dynamic-book-a-slot.bundle",45:"vendors~dynamic-product-details.bundle"}[e]||e)+"."+{2:"efb5736557a4c4578a28",3:"a27f3f5947da90b3972c",4:"8aa814f7d82bc7a3cc4c",5:"865359bee9ff3a5cc3e1",6:"692597f972a8a2ad2d65",7:"90164c2b70829eaed5dc",8:"5d27b26563dfa5e6aac0",9:"5a23f8dba2adf509e32b",10:"0d49f9af8df4f76beef7",11:"f3405c73387af84aa898",12:"a8f2468331d996c0d6b6",13:"fecc23cffe5f7ad905bc",14:"899494646e7065ee1cbd",15:"37d8c117a11c6acd4ccb",16:"1dee9ae9dab051e5d4ce",17:"6a8d50612cebe3db042d",18:"25644c60f6e8767c2b17",19:"bad0cbe9f52194f5aa4f",20:"d526cdaa6c1906de7521",21:"e9944687398e142dcd06",22:"2240627b8c95a3b6d464",44:"8b4ca13c2d5c19de6ac1",45:"26f21e578e97d6d6d2bc"}[e]+".js"}(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(l);var o=r[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",c.name="ChunkLoadError",c.type=n,c.request=a,o[1](c)}r[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;a.push([1311,0,1]),o()}({1311:function(e,t,o){"use strict";o.r(t);o(200),o(202),o(186),o(203),o(204),o(205),o(175),o(206),o(207),o(208),o(209),o(210),o(211),o(212),o(213),o(214),o(215),o(216),o(217),o(218),o(219),o(220),o(221),o(222),o(223),o(224),o(225),o(226),o(227),o(228),o(229),o(230),o(231),o(232),o(233),o(234),o(235),o(236),o(237),o(238),o(239),o(240),o(241),o(242),o(243),o(244),o(187),o(245),o(246),o(247),o(248),o(249),o(250),o(251),o(252),o(253),o(188),o(254),o(255),o(256),o(257),o(258),o(259),o(260),o(261),o(262),o(263),o(264),o(265),o(266),o(267),o(268),o(269),o(270),o(271),o(189),o(272),o(273),o(274),o(275),o(276),o(277),o(278),o(279),o(280),o(281),o(282),o(283),o(284),o(285),o(286),o(287),o(288),o(289),o(290),o(291),o(292),o(293),o(294),o(295),o(296),o(297),o(298),o(299),o(300),o(301),o(302),o(303),o(304),o(305),o(306),o(307),o(308),o(309),o(310),o(311),o(312),o(313),o(314),o(315),o(316),o(190),o(191),o(181);var n=o(113),r=o(907),a=o(72);o.p=document.documentElement.getAttribute("data-base-static-url")+"/",Object(a.a)("Home",r.default),window.isSPA=!0,Object(n.a)()},907:function(e,t,o){"use strict";o.r(t),o.d(t,"mapStateToProps",(function(){return _a})),o.d(t,"default",(function(){return Sa}));var n=o(0),r=o.n(n),a=o(19),i=o.n(a),s=o(11),c=o.n(s),l=o(10),d=o.n(l),u=o(15),p=o.n(u),m=o(13),f=o.n(m),v=o(14),h=o.n(v),y=o(6),b=o.n(y),g=o(4),k=o.n(g),O=o(2),x=o.n(O),w=o(12),j=o.n(w),D=o(16),N=o(7),_=o(30),S=o(17),C=o(53),R=o(21);function E(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function P(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?E(Object(o),!0).forEach((function(t){k()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):E(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var I=function(e){return Object(C.C)(e)[R.o]},A=function(e){return function(t){var o,n=I(t),r=null==n||null===(o=n.data.content)||void 0===o?void 0:o.unordered;return r&&r[e]||null}},T=function(e){var t,o=I(e),n=null==o||null===(t=o.data.content)||void 0===t?void 0:t.unordered;if(!n)return null==o?void 0:o.data;var r=o.data.content;return P(P({},o.data),{},{content:P(P({},r),{},{unordered:Object.values(n)})})},M=o(18),L=o.n(M),H=o(100),B=o(765);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var z,U=function(e){f()(o,e);var t=W(o);function o(){return c()(this,o),t.apply(this,arguments)}return d()(o,[{key:"render",value:function(){var e=j()({"double-medium":this.props.doubleMedium,"double-large":this.props.doubleLarge}),t=this.props.element?this.props.element:"div";return r()(t,{className:"widget-container widget-container--".concat(this.props.widgetName," ").concat(e)},void 0,r()("div",{className:"widget-container--item"},void 0,this.props.children))}}]),o}(O.PureComponent),F=o(23),Y=o(162),G=o(611),V=o(69),K=o(9),Z=o(490),q=o(716),J=o(675);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var $,X=Object(K.a)(["c","t","f"])(z=function(e){f()(o,e);var t=Q(o);function o(){return c()(this,o),t.apply(this,arguments)}return d()(o,[{key:"render",value:function(){var e=0,t=this.props,o=t.favoritesItems,n=t.isAmendBasket,a=t.productTileType,i=t.t,s=t.c,c=t.f,l=[];return a===V.a?o.forEach((function(t,o){var n=r()(J.a,{config:s,feature:c,identifier:F.B,item:t,itemIndex:e,showRestOfShelfLink:!0,showWriteAReviewLink:!0,tile:Y.b,translate:i},o);e++,l.push(n)})):o.forEach((function(t,o){var a=r()(Z.a,{type:V.d,identifier:F.B,isAmendBasket:n,item:t,itemIndex:e,listData:{},tile:Y.b},o);e++,l.push(a)})),r()("div",{className:"favorites-widget"},void 0,r()(U,{widgetName:"section-message"},void 0,r()("div",{id:"favorites-widget--section-divider"},void 0,r()(q.a,{title:this.props.t("home:items-from-favorites"),link:"/favorites"}))),r()(G.a,{profilerKey:"homepage_favourites"},void 0,l))}}]),o}(O.PureComponent))||z,ee=o(61),te=o(84),oe=o(584),ne=o(459),re=o(42),ae=o(28);function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var se={fetchFavoritesCarouselItems:te.f},ce=Object(D.a)((function(e){var t=Object(ae.i)(Object(S.mb)(e));return{experiments:Object(ee.g)(e),favoritesItems:Object(ee.f)(e),isAmendBasket:Object(S.z)(e),shouldFetchFavoritesCarouselItems:Object(_.m)(e)&&!t}}),se)($=function(e){f()(o,e);var t=ie(o);function o(e){var n;return c()(this,o),n=t.call(this,e),k()(p()(n),"dataRequested",void 0),k()(p()(n),"hasFiredAnalytics",void 0),k()(p()(n),"fetchData",(function(){n.dataRequested=!0,n.props.shouldFetchFavoritesCarouselItems&&n.props.fetchFavoritesCarouselItems()})),n.dataRequested=!1,n.hasFiredAnalytics=!1,n}return d()(o,[{key:"renderFavoritesWidget",value:function(){return r()(U,{widgetName:"favorites-carousel"},void 0,r()(X,{favoritesItems:this.props.favoritesItems,isAmendBasket:this.props.isAmendBasket,productTileType:V.a}),r()(ne.a,{items:this.props.favoritesItems,pageType:"home",displayArea:"csl",componentName:"favourites"}))}},{key:"renderLazyComponent",value:function(){return r()(oe.a,{target:".favorites-carousel",fetchData:this.fetchData})}},{key:"fireAnalytics",value:function(){Object(re.b)(this.props.experiments),this.hasFiredAnalytics=!0}},{key:"render",value:function(){var e=this.props.favoritesItems,t=e&&e.length>0,o=e&&e.length>=3;return o&&!this.hasFiredAnalytics&&this.fireAnalytics(),r()("div",{className:"favorites-carousel"},void 0,!t&&!this.dataRequested&&this.renderLazyComponent(),o&&this.renderFavoritesWidget())}}]),o}(O.PureComponent))||$,le=o(388),de=o(129),ue=o(67);function pe(e){var t=e.findIndex((function(e){if(e&&e.children.length){var t=e.children[0];return"Placeholder"===t.type&&"RecommendersCarousel"===t.props.componentName}return null}));return-1===t?1:t+1}var me=Object(K.a)(["c"])((function(e){var t=e.cmsData,o=e.isAmendBasket,n=i()(e,["cmsData","isAmendBasket"]),a=n.c,s=a("recommenders:enabled"),c=Object(B.b)((function(e){return"Placeholder"===e.type?function(e,n){var r=Object.assign({},e),a=r.props.componentName;return r.type=a,a===ue.b?r.props={catId:"Favorites",title:"Favorites",isAmendBasket:o,listData:{page:"Home"}}:n&&"RecommendersCarousel"===a&&(r.props={page:"home",configKey:"home_page",displayArea:de.g,panelPos:pe(t)}),r}(e,s):e}),t);return H.FavouritesCarousel=ce,s&&(H.RecommendersCarousel=le.a),r()("div",{className:"home"},void 0,x.a.createElement(H.ComponentTree,L()({components:H,data:c},n)))})),fe=o(452),ve=o(32),he=o(26),ye=o(22),be={openNavMenu:ve.q},ge=Object(D.a)(null,be)(Object(K.a)(["l","t"])((function(e){var t=e.t("home:new-user-banner.browse-the-store");return r()("div",{className:"browse-store"},void 0,r()(he.a,{className:"browse-store--button browse-store--browse-button button button-secondary",to:e.l("/shop"),onClick:function(t){t.preventDefault(),t.stopPropagation(),e.openNavMenu(),Object(ye.a)().emit("UIEventBasicEvent",{action:"now",type:"home",value:"browse the store"})}},void 0,t))}))),ke=o(159),Oe=o(344),xe=o(3),we=o(5),je=o(154),De=xe.default.h1.withConfig({displayName:"styled__Heading",componentId:"sc-9ltfcf-0"})(["font-size:",";padding-top:",";color:",";@media (max-width:767px){padding:6px 0;}@media (min-width:","){padding-left:0;font-size:",";}"],we.spacing.xl,we.spacing.xx,(function(e){return e.showBlackText?we.colors.black:we.colors.inverse}),je.d,we.fontSize.xl),Ne=xe.default.span.withConfig({displayName:"styled__GreetingMessage",componentId:"sc-9ltfcf-1"})(["display:block;"]);Ne.displayName="GreetingMessage";var _e,Se,Ce,Re=xe.default.span.withConfig({displayName:"styled__GreetingName",componentId:"sc-9ltfcf-2"})(["padding-top:6px;font-family:Helvetica,Arial,sans-serif;font-weight:bold;display:block;@media (min-width:","){padding-top:11px;}"],je.d);function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}Re.displayName="GreetingName";var Pe,Ie,Ae,Te=Object(K.a)(["t"])((Ce=Se=function(e){f()(o,e);var t=Ee(o);function o(){return c()(this,o),t.apply(this,arguments)}return d()(o,[{key:"render",value:function(){var e=this.props,t=e.user,o=e.welcomeTranslations,n=e.showHeadlineInBlack,a=o["welcome-message"],i=[r()(Ne,{"data-auto":"user-greeting--message"},"message",a)];if(t.isAuthenticated&&t.isRegistered){var s=o["username-message"];i.push(r()(Re,{},"name",this.getGreeting(t,s)))}return r()(De,{"data-auto":"hp-welcome-msg",showBlackText:n},void 0,i)}},{key:"getGreeting",value:function(e,t){return Object(Oe.d)(t,{name:e.displayName,title:this.getTitle(e),lastName:e.lastName})}},{key:"getTitle",value:function(e){var t=e.title,o=this.props.t;if(t){var n=o("name-title.".concat(t));return""!==n?this._capitalize(n):this._capitalize(t)}return""}},{key:"_capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),o}(O.PureComponent),k()(Se,"defaultProps",{showHeadlineInBlack:!1}),_e=Ce))||_e,Me=o(44),Le=o(519),He=o(176),Be=function(e){var t=e.date;return r()("p",{className:"date-holder"},void 0,r()("span",{className:"date-holder--weekday"},void 0,t.format("ddd").toUpperCase()),r()("span",{className:"date-holder--day-number"},void 0,t.format("DD")),r()("span",{className:"date-holder--month-number"},void 0,t.format("MMM").toUpperCase()))},We=o(93);function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var Ue,Fe=Object(K.a)(["c","t"])((Ae=Ie=function(e){f()(o,e);var t=ze(o);function o(){return c()(this,o),t.apply(this,arguments)}return d()(o,[{key:"formatTime",value:function(e){return"00"!==e.format("mm")?"h:mm":"h"}},{key:"renderTime",value:function(){var e=this.props,t=e.start,o=e.end;if(!e.alt)return"".concat(t.format("HH:mm")," - ").concat(o.format("HH:mm"));if(t&&o){var n=t.format("a")!==o.format("a")?"a":"",r=this.formatTime(t),a=this.formatTime(o),i="".concat(r).concat(n),s="".concat(a,"a");return"".concat(t.format(i)," - ").concat(o.format(s))}return null}},{key:"render",value:function(){var e=this.props.tagName;return r()(e,{className:this.props.className},void 0,!this.props.alt&&r()("span",{className:"context-card-book-a-slot__day","data-auto":"context-card-book-a-slot__day"},void 0,"".concat(this.props.start.format("DD MMM YYYY"),":")),r()("span",{className:j()("context-card-book-a-slot__time",{"context-card-book-a-slot__time--alt":this.props.alt}),"data-auto":"context-card-book-a-slot__time"},void 0,this.renderTime()))}}]),o}(O.Component),k()(Ie,"defaultProps",{tagName:"p"}),Pe=Ae))||Pe,Ye=o(48),Ge=o(95),Ve=o(50),Ke=o(321),Ze=o(182);function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var Je=Object(Ge.b)((function(e){return{isWhooshStoreHotHouse:Object(Ke.a)(e),isOnDemandDynamicDelivery:Object(Ze.b)(e),onDemandDynamicDeliveryTime:Object(Ve.q)(e),fulfilmentEstimatedArrivalTime:Object(Ve.f)(e)}}))(Ue=Object(K.a)(["t","c"])(Ue=function(e){f()(o,e);var t=qe(o);function o(){return c()(this,o),t.apply(this,arguments)}return d()(o,[{key:"renderGuidePrice",value:function(){var e=this.props,t=e.t,o=e.displayAsGuidePrice,n=e.guidePrice,a=e.c,i=e.alt,s=o?"common:guide-price":"common:price";return n&&r()("p",{className:"context-card-book-a-slot__price"},void 0,r()("span",{className:"context-card-book-a-slot__guide-label"},void 0,"".concat(t(s),":")),x.a.createElement(We.a,L()({},a("currency"),{className:"context-card-book-a-slot__guide-price",enableMaxLimit:!0,value:n,compactMode:i})))}},{key:"renderAddress",value:function(){var e=this.props,t=e.showDeliveringtoLabel,o=e.address,n=e.t;return this.props.address&&r()("p",{className:"home-page__text-wrap-two-line context-card-book-a-slot__address"},void 0,t?r()("span",{},void 0,n("slots:delivery.delivering-to")," ",r()("strong",{},void 0,o.addressLine1)):o.name)}},{key:"renderOrderDate",value:function(){var e=this.props,t=e.orderDate,o=e.t,n=e.showTime,a=e.alt,i=e.start,s=e.end,c=e.fulfilmentEstimatedArrivalTime,l=e.showDeliverySlotWindow,d=e.showDeliveryType,u=e.shoppingMethod,p=e.deliveryBy,m=e.isOnDemandDynamicDelivery,f=e.isWhooshStoreHotHouse,v=e.onDemandDynamicDeliveryTime,h=e.slotMessage,y=Object(ae.i)(u),b=Object(ae.n)(y&&f),g=v.isDynamicDeliveryTimeAvailable?v:c,k=Object(ae.a)(y,m,g),O=k.onDemandDynamicDeliverySuffix,x=k.unit,w=k.min,j=k.max,D=k.showDynamicTime;if(h)return r()("p",{className:"context-card-book-a-slot__time","data-auto":"context-card-book-a-slot__time"},void 0,h);if(d){var N=Object(Ye.f)({start:i})?o("common:today"):i.format("DD MMM YYYY"),_=m&&D?r()("span",{className:"context-card-book-a-slot__time"},void 0,o("home:book-a-slot.".concat(u,".delivery-time").concat(O),{unit:x,min:w,max:j})):r()("span",{className:"context-card-book-a-slot__time"},void 0,"".concat(N,", ").concat(o("home:book-a-slot.".concat(u,".delivery-time").concat(b))));return r()("p",{},void 0,r()("span",{className:"context-card-book-a-slot__day","data-auto":"context-card-book-a-slot__day"},void 0,_))}return l?n&&r()(Fe,{alt:a,start:i,end:s}):p?r()("p",{},void 0,o("home:book-a-slot.slot-booked.delivery-by",{day:p.day,month:p.month})):r()("p",{},void 0,o("orders:common.created-on")," ",r()("strong",{},void 0,t))}},{key:"render",value:function(){var e=this.props.alt;return r()("div",{className:j()("context-card-book-a-slot__text",{"context-card-book-a-slot__text--alt":e})},void 0,this.renderOrderDate(),!e&&this.renderAddress(),this.renderGuidePrice(),e&&this.renderAddress())}}]),o}(O.Component))||Ue)||Ue;Je.defaultProps={showTime:!0,displayAsGuidePrice:!0,showDeliveringtoLabel:!1,showDeliverySlotWindow:!0};var Qe,$e,Xe,et=Je,tt=o(609),ot=o(24),nt=o(111),rt=o(89),at=o(453);function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var st,ct=Object(K.a)(["c","t"])(Qe=Object(D.a)((function(e,t){var o=t.order,n=t.c,r=Object(ae.j)(o.shoppingMethod);return{language:Object(N.K)(e),timezone:Object(N.Z)(e),isPostalDelivery:r,displayAsGuidePrice:n("displayAsGuidePrice")&&!r}}))((Xe=$e=function(e){f()(o,e);var t=it(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"formatDate",(function(t){return Object(nt.c)(t,e.props.timezone,e.props.language)})),k()(p()(e),"getInfoHtmlTitle",(function(t,o,n){var r=e.props.isPostalDelivery;return t&&o?"home:book-a-slot.order-placed.details-same-day":n===ot.b?"home:book-a-slot.order-placed.details-collection":r?"home:book-a-slot.order-placed.details-postal-delivery":"home:book-a-slot.order-placed.details"})),e}return d()(o,[{key:"render",value:function(){var e=this.props,t=e.isPostalDelivery,o=e.order,n=o.address,a=o.expiry,i=o.guidePrice,s=o.orderNo,c=o.shoppingMethod,l=o.slot,d=l.countdown,u=l.start,p=l.end,m=o.confirmationDateTime,f=e.displayAsGuidePrice,v=e.c,h=e.isAmendOrder,y=e.t,b=null==d?void 0:d.workingDays,g=this.formatDate(u),k=this.formatDate(p),O=this.formatDate(a),x=this.formatDate(),w=v("sameDayClickAndCollectEnabled"),j=O.isSame(x,"day"),D={amend_by_time:O.format("HH:mm"),amend_by_date:O.format("dddd, D MMMM YYYY")},N=y(this.getInfoHtmlTitle(w,j,c),D),_=Object(rt.e)(m,"Do MMMM YYYY");return r()("div",{className:"context-card-book-a-slot--order-placed","data-auto":"hp-order-placed-context-card"},void 0,r()(at.a,{className:"context-card-book-a-slot__top",addMargin:t},void 0,t?r()(tt.a,{type:"circular",workingDays:b}):r()(He.a,{},void 0,r()(Be,{date:k})),r()("h2",{className:"context-card-book-a-slot__title"},void 0,y("home:book-a-slot.order-placed.title")),t&&0==b&&r()("p",{className:"contact-your-courier"},void 0,y("home:book-a-slot.order-placed.contact-your-courier")),r()(et,{address:n,displayAsGuidePrice:f,showDeliveringtoLabel:t,showDeliverySlotWindow:!t,orderDate:_,end:k,guidePrice:i,start:g}),h&&r()(Le.a,{amendCutoff:a,buttonClasses:"button button-primary",buttonText:"home:book-a-slot.order-placed.make-changes",formClasses:"action",orderNo:s})),h&&r()("div",{className:"context-card-book-a-slot--bottom"},void 0,r()(Me.a,{},void 0,N)))}}]),o}(O.Component),k()($e,"defaultProps",{isAmendOrder:!0}),Qe=Xe))||Qe)||Qe;o(374);function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var dt=r()(He.a,{},void 0,r()("div",{className:"icon-tick_circle_tint"})),ut=Object(D.a)((function(e){return{language:Object(N.K)(e),timezone:Object(N.Z)(e)}}))(st=Object(K.a)(["t","c"])(st=function(e){f()(o,e);var t=lt(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"formatDate",(function(t){return Object(nt.c)(t,e.props.timezone,e.props.language)})),e}return d()(o,[{key:"componentDidMount",value:function(){var e=this.props.orderId,t=this.props.slot,o=t.start,n=t.end,r={type:"context card impression",value:"active order",action:"now",orderId:e,slotTime:"".concat(o," - ").concat(n)};Object(ye.a)().emit("UIEventBasicEvent",r)}},{key:"render",value:function(){var e,t=this.props,o=t.slot,n=t.t,a=t.shoppingMethod,i=t.address,s=t.isPostalDelivery,c=t.guidePrice,l=t.c,d=(e={},k()(e,ot.j,"home:book-a-slot.order-due.delivery.title"),k()(e,ot.c,"home:book-a-slot.order-due.delivery.title"),k()(e,ot.b,"home:book-a-slot.order-due.collection.title"),k()(e,ot.l,"home:book-a-slot.order-due.delivery.title"),k()(e,ot.i,"home:book-a-slot.order-due.lightdelivery.title"),e),u=this.formatDate(o.start),p=this.formatDate(o.end),m=n(d[a]);return r()("div",{className:"context-card-book-a-slot-order-due","data-auto":"context-card-book-a-slot-order-due"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,dt,r()("h2",{className:"context-card-book-a-slot__title","data-auto":"context-card-book-a-slot-order-due-title"},void 0,m),r()(et,{address:i,displayAsGuidePrice:!s&&l("displayAsGuidePrice"),showDeliveringtoLabel:s,showDeliverySlotWindow:!s,start:u,end:p,guidePrice:c,alt:!0})))}}]),o}(O.Component))||st)||st,pt=o(923),mt=o(406),ft=o(718),vt=o(34),ht=o(47),yt=o(39),bt=o(166),gt=Object(xe.default)(Fe).withConfig({displayName:"styled__SlotTimeInline",componentId:"yjgx3g-0"})(["&& span{font:inherit;}"]);gt.displayName="WismoStepperSlotTimeInline";var kt=o(999),Ot=o(177),xt=Object(xe.default)(kt.a).withConfig({displayName:"styled__Wrapper",componentId:"sc-1xl3jwu-0"})(["&&{margin-bottom:",";}"],we.spacing.xs);xt.displayName="WismoStepperDeliveryHeadingWrapper";var wt=xe.default.span.withConfig({displayName:"styled__SlotTime",componentId:"sc-1xl3jwu-1"})(["font-weight:normal;text-transform:lowercase;"]);wt.displayName="WismoStepperSlotTime";var jt=xe.default.span.withConfig({displayName:"styled__AddressName",componentId:"sc-1xl3jwu-2"})(["font-weight:normal;"]);jt.displayName="WismoStepperAddressName";var Dt=xe.default.span.withConfig({displayName:"styled__Postcode",componentId:"sc-1xl3jwu-3"})(["font-weight:normal;text-transform:uppercase;"]);Dt.displayName="WismoStepperPostcode";var Nt=xe.default.span.withConfig({displayName:"styled__VisuallyHide",componentId:"sc-1xl3jwu-4"})(["",";"],Ot.u),_t=Object(D.a)((function(e){return{addressName:Object(bt.j)(e)}})),St=Object(yt.a)(Object(K.a)(["t"]),_t)((function(e){var t,o=e.t,n=e.addressName,a=e.postcode,i=e.slotStart,s=e.slotEnd,c=e.shoppingMethod,l=void 0===c?ot.c:c,d=r()(gt,{start:i,end:s,alt:!0,tagName:"span"}),u=function(){return r()(wt,{},void 0,"".concat(o("context-cards:wismo-stepper-today"),", "),d)},p=r()(Dt,{},void 0,a),m=function(){return x.a.createElement(x.a.Fragment,null,r()(Nt,{},void 0,o("common:to")," "),p)};return t=i&&a?x.a.createElement(x.a.Fragment,null,u(),", ",m()):i?u():a?m():null,r()(xt,{},void 0,"".concat(o("context-cards:".concat(l,"-wismo-stepper.title"))," "),r()(jt,{},void 0,"".concat(n,", ")),t)})),Ct=o(998),Rt=o(919),Et=Object(xe.default)(Ct.a).withConfig({displayName:"styled__PrimaryDeliveryStatus",componentId:"p7yqeo-0"})(["&&{margin-bottom:6px;}"]);Et.displayName="WismoStepperPrimaryDeliveryStatus";var Pt=Object(xe.default)(Rt.a).withConfig({displayName:"styled__SecondaryDeliveryStatus",componentId:"p7yqeo-1"})(["&&{margin-bottom:",";}"],we.spacing.xxxl);Pt.displayName="WismoStepperSecondaryDeliveryStatus";var It=function(e){var t=e.primaryDeliveryStatus,o=e.secondaryDeliveryStatus;return x.a.createElement(x.a.Fragment,null,r()(Et,{tagName:"p"},void 0,t),r()(Pt,{},void 0,o))},At=o(27),Tt=o.n(At),Mt=o(33);function Lt(){var e=Tt()(["\n    display: ",";\n    white-space: nowrap;\n    margin-right: 0;\n    margin-left: 0;\n    text-align: initial;\n  "]);return Lt=function(){return e},e}function Ht(){var e=Tt()(["\n  /* On mobile we want the markers to be evenly spaced out, with the first and last marker\n  being adjacent to the very left and very right respectively (see diagram 1).\n  We also need the step text of the first and last step to be aligned to the left and right\n  (rather than the center under the marker) respectively. This is what the code below does.\n  \n  Diagram 1 (Mobile)\n  |o----o----o---o| |o---o----o----o| |o---o---o---o|\n   Step1               Step2                   step4\n\n  Diagram 2 (Desktop)\n  |--o--o--o--o--|\n   Step1\n  */\n\n  :not(:first-of-type):not(:last-of-type) {\n    width: ",";\n  }\n\n  :first-of-type {\n    align-items: flex-start;\n  }\n\n  :last-of-type {\n    align-items: flex-end;\n  }\n\n  :first-of-type,\n  :last-of-type {\n    /* \n      The first and last step should be half the width of the other steps\n      First step  : o--\n      Last step   : --o\n      Other steps : --o--\n    */\n    width: calc("," / 2);\n  }\n\n  :last-of-type {\n    ::before {\n      ","\n      /* The last step width is half the other steps. Therefore for the step line\n      to reach the second last step we need to use double the step width */\n      width: calc(200% - ","px);\n      /* This ensures the line starts from the middle of the circular marker */\n      right: ","px;\n    }\n  }\n  "]);return Ht=function(){return e},e}var Bt=function(e){return e.isComplete?we.colors.success:we.colors.lines},Wt=function(e){return"".concat(100/(e.noOfSteps-1),"%")},zt=xe.default.ol.attrs((function(e){return{role:"progressbar","aria-valuemin":1,"aria-valuenow":e.currentStep,"aria-valuemax":e.noOfSteps}})).withConfig({displayName:"styled__Wrapper",componentId:"sc-3gt3cw-0"})(["display:flex;list-style-type:none;width:100%;max-width:1200px;margin:0 auto;"]),Ut=Object(xe.css)(["content:'';position:absolute;width:calc(100% - ","px);top:","px;right:50%;height:2px;background:",";"],12.5,12.5,Bt),Ft=xe.default.div.withConfig({displayName:"styled__Step",componentId:"sc-3gt3cw-1"})(["display:flex;flex-direction:column;width:",";position:relative;align-items:center;:not(:first-of-type){::before{","}}",""],(function(e){return"".concat(100/e.noOfSteps,"%")}),Ut,Mt.media.belowTabletLarge(Ht(),Wt,Wt,Ut,12.5,12.5)),Yt=xe.default.li.withConfig({displayName:"styled__StepMarker",componentId:"sc-3gt3cw-2"})(["display:flex;justify-content:center;align-items:center;background:",";border:1px solid ",";width:","px;height:","px;border-radius:","px;z-index:1;"],(function(e){return e.isComplete?we.colors.success:we.colors.background}),Bt,25,25,12.5),Gt=Object(xe.default)(kt.a).withConfig({displayName:"styled__StepText",componentId:"sc-3gt3cw-3"})(["&&{color:",";}padding-top:",";margin-right:",";margin-left:",";text-align:center;",""],(function(e){return e.isComplete?we.colors.base:we.colors.text}),we.spacing.xs,(function(e){return e.stepNo===e.noOfSteps?"0":we.spacing.sm}),(function(e){return 1===e.stepNo?"0":we.spacing.sm}),Mt.media.belowTabletLarge(Lt(),(function(e){return e.isCurrentStep||"none"}))),Vt=r()(pt.a,{graphic:"benefits",size:"xs",inverse:!0}),Kt=Object(K.a)(["t"])((function(e){var t=e.steps,o=e.currentStep,n=e.t;return r()(zt,{currentStep:o},void 0,t.map((function(e,a){var i=a+1,s=i<=o,c=i===o,l=s?"context-cards:wismo-stepper-step-completed":"context-cards:wismo-stepper-step-not-completed";return r()(Ft,{isComplete:s,noOfSteps:t.length},n(e.title),r()("span",{className:"visually-hidden"},void 0,n(l)),r()(Yt,{isComplete:s},void 0,Vt),r()(Gt,{stepNo:i,isComplete:s,isCurrentStep:c,noOfSteps:t.length,"aria-current":c&&"step"},void 0,n(e.title)))})))})),Zt=o(1028),qt=o(783);function Jt(){var e=Tt()(["\n    padding-left: ",";\n  "]);return Jt=function(){return e},e}var Qt=Object(xe.default)(Zt.a).withConfig({displayName:"styled__Layout",componentId:"yaudtc-0"})(["border-radius:0;&&{border:0;padding:"," "," ",";}"],we.spacing.sm,we.spacing.sm,we.spacing.xs);Qt.displayName="WismoStepperLayout";var $t=Object(xe.default)(qt.a).withConfig({displayName:"styled__DeliveryStatusLayout",componentId:"yaudtc-1"})(["&&{padding:"," "," "," ",";border:",";}",""],we.spacing.xl,we.spacing.sm,we.spacing.xl,we.spacing.md,we.base.outline,Mt.media.belowTabletLarge(Jt(),we.spacing.sm));$t.displayName="WismoStepperDeliveryStatusLayout";var Xt=function(e){var t=e.status,o=e.deliveryHeading,n=e.deliveryStatus,a=e.shoppingMethod,i=void 0===a?ot.c:a,s=[{title:"context-cards:".concat(i,"-wismo-stepper.steps.preparing-order.progress-bar")},{title:"context-cards:".concat(i,"-wismo-stepper.steps.delivery-scheduled.progress-bar")},{title:"context-cards:".concat(i,"-wismo-stepper.steps.arrived-at-customer-location.progress-bar")},{title:"context-cards:".concat(i,"-wismo-stepper.steps.delivered.progress-bar")}],c=function(e){switch(e){case ht.l.PREPARING_ORDER:return 1;case ht.l.DELIVERY_SCHEDULED:return 2;case ht.l.ARRIVED_AT_CUSTOMER_LOCATION:return 3;case ht.l.DELIVERED:return 4;default:return null}}(t);return r()(Qt,{variant:"border"},void 0,o,r()($t,{variant:"background"},void 0,n,c&&r()(Kt,{steps:s,currentStep:c})))};function eo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function to(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(o),!0).forEach((function(t){k()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):eo(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function oo(e,t){return"function"==typeof t?t(e):{}}function no(e){if(!e)return{};var t=e.children,o=e.className,n=e.id,r=i()(e,["children","className","id"]);return to({children:t,className:o,id:n},function(e){return e?Object.keys(e).reduce((function(t,o){return/^on[A-Z].+$/.test(o)&&"function"==typeof e[o]&&(t[o]=e[o]),t}),{}):{}}(r),{},function(e){return Object.keys(e).reduce((function(t,o){return/^(aria-|data-)/.test(o)&&(t[o]=e[o]),t}),{})}(r))}var ro=o(31),ao=o(692),io=Object(xe.default)(ao.a).withConfig({displayName:"styled__SlotLink",componentId:"sc-13aqoup-0"})(["&&{display:block;margin-top:",";}&& .beans-link__icon-container{vertical-align:bottom;}"],we.spacing.sm);io.displayName="WismoStepperSlotLink";var so=o(515);function co(e){var t,o=e.status,n=e.punctuality,r=e.stopsUntilDelivery;switch(o){case ht.l.PREPARING_ORDER:t=F.l;break;case ht.l.DELIVERY_SCHEDULED:if(0===r)t=F.h;else switch(n){case ht.n.ON_TIME:case ht.n.EARLY:t=F.c;break;case ht.n.DELAYED:t=F.g;break;default:t=F.c}break;case ht.l.ARRIVED_AT_CUSTOMER_LOCATION:switch(n){case ht.n.ON_TIME:case ht.n.DELAYED:t=F.d;break;case ht.n.EARLY:t=F.e;break;default:t=F.d}break;case ht.l.DELIVERED:t=F.f;break;default:t=F.lb}return t}function lo(e,t,o){if(t.status!==ht.l.NOT_AVAILABLE){var n=co(t),r=F.Zb[e];Object(vt.a)(ye.a,{type:r,value:n,action:F.nb,orderNo:o})}else{var a=F.mb;Object(so.b)({code:"",text:a})}}function uo(e,t,o){var n="".concat(co(t),":").concat(e),r=F.Zb[o];Object(vt.a)(ye.a,{type:r,value:n,action:F.nb})}var po=Object(yt.a)(Object(K.a)(["t","f"]),Object(D.a)((function(e,t){var o=t.f;return{bookSlotPath:Object(N.L)(e,Object(ro.f)(o)(e))}})))((function(e){var t,o,n=e.t,a=e.bookSlotPath,i=e.shoppingMethod,s=n("common:pages.book-another-slot"),c=(t=he.a,o=function(e){return{onClick:e.onClick,to:e.href}},function(e){return x.a.createElement(t,L()({},oo(e,o),no(e)))});return r()(io,{emphasized:!0,href:a,icon:{graphic:"forwardLink",position:{global:"right"}},variant:"standalone",spaLink:c,onClick:function(){return function(e){var t=F.Zb[e];Object(vt.a)(ye.a,{type:t,value:F.v,action:F.R})}(i)}},void 0,s)})),mo=r()(po,{shoppingMethod:ot.c}),fo=Object(yt.a)(Object(K.a)(["t"]))((function(e){var t=e.t,o=e.orderNo,n=e.postcode,a=e.slotStart,i=e.slotEnd,s=r()(St,{postcode:n,slotStart:a,slotEnd:i}),c=t("context-cards:wismo-stepper-delivered"),l=x.a.createElement(x.a.Fragment,null,t("context-cards:wismo-stepper-thank-you"),mo),d=r()(It,{primaryDeliveryStatus:c,secondaryDeliveryStatus:l});return x.a.useEffect((function(){return lo(ot.c,{status:ht.l.DELIVERED},o)}),[]),r()(Xt,{deliveryHeading:s,deliveryStatus:d,status:ht.l.DELIVERED})})),vo=Object(xe.default)(pt.a).withConfig({displayName:"styled__PunctualityIcon",componentId:"kas8q-0"})(["margin-right:6px;&&& circle{fill:",";}"],(function(e){return e.punctuality===ht.n.DELAYED&&e.stops>0?we.colors.warning:we.colors.info}));vo.displayName="HomeDeliveryWismoStepperPunctualityIcon";var ho=Object(K.a)(["t"])((function(e){var t,o=e.t,n=e.orderNo,a=e.postcode,i=e.slotStart,s=e.slotEnd,c=e.stops,l=e.deliveryStart,d=e.deliveryEnd,u=e.punctuality,p=r()(St,{postcode:a,slotStart:i,slotEnd:s}),m=x.a.createElement(x.a.Fragment,null,r()(vo,{graphic:"indicator",size:"xs",punctuality:u,stops:c}),c>0?o("context-cards:wismo-stepper-stop",{smart_count:c}):o("context-cards:wismo-stepper-next-stop"),x.a.createElement(x.a.Fragment,null," ",o("context-cards:wismo-stepper-estimated-arrival")," ",r()(gt,{start:l,end:d,alt:!0,tagName:"span"})));if(c>0)switch(u){case ht.n.DELAYED:t=o("context-cards:wismo-stepper-schedule-late");break;case ht.n.ON_TIME:case ht.n.EARLY:default:t=o("context-cards:wismo-stepper-driver-on-the-way")}else t=o("context-cards:wismo-stepper-nearly-arrived");var f=r()(It,{primaryDeliveryStatus:m,secondaryDeliveryStatus:t});return x.a.useEffect((function(){return lo(ot.c,{status:ht.l.DELIVERY_SCHEDULED,punctuality:u,stopsUntilDelivery:c},n)}),[]),r()(Xt,{deliveryHeading:p,deliveryStatus:f,status:ht.l.DELIVERY_SCHEDULED})})),yo=Object(K.a)(["t"])((function(e){var t=e.t,o=e.orderNo,n=e.postcode,a=e.slotStart,i=e.slotEnd,s=r()(St,{postcode:n}),c=x.a.createElement(x.a.Fragment,null,t("context-cards:wismo-stepper-today"),", ",r()(gt,{start:a,end:i,alt:!0,tagName:"span"})),l=t("context-cards:wismo-stepper-check-update"),d=r()(It,{primaryDeliveryStatus:c,secondaryDeliveryStatus:l});return x.a.useEffect((function(){return lo(ot.c,{status:ht.l.PREPARING_ORDER},o)}),[]),r()(Xt,{deliveryHeading:s,deliveryStatus:d,status:ht.l.PREPARING_ORDER})})),bo=xe.default.span.withConfig({displayName:"styled__Postcode",componentId:"itb4ou-0"})(["text-transform:uppercase;"]);bo.displayName="HomeDeliveryWismoStepperArrivedAtPostcode";var go=Object(K.a)(["t"])((function(e){var t,o,n,a=e.t,i=e.orderNo,s=e.postcode,c=e.slotStart,l=e.slotEnd,d=e.punctuality;switch(d){case ht.n.EARLY:t=r()(St,{postcode:s,slotStart:c,slotEnd:l}),o=a("context-cards:wismo-stepper.arrived-at-location.early.primary"),n=a("context-cards:wismo-stepper.arrived-at-location.early.secondary");break;case ht.n.ON_TIME:case ht.n.DELAYED:default:t=r()(St,{slotStart:c,slotEnd:l}),o=x.a.createElement(x.a.Fragment,null,a("context-cards:wismo-stepper.arrived-at-location.on-time.primary")," ",r()(bo,{},void 0,s)),n=a("context-cards:wismo-stepper.arrived-at-location.on-time.secondary")}var u=r()(It,{primaryDeliveryStatus:o,secondaryDeliveryStatus:n});return x.a.useEffect((function(){return lo(ot.c,{status:ht.l.ARRIVED_AT_CUSTOMER_LOCATION,punctuality:d},i)}),[]),r()(Xt,{deliveryHeading:t,deliveryStatus:u,status:ht.l.ARRIVED_AT_CUSTOMER_LOCATION})})),ko=function(e){var t=e.orderNo,o=e.postcode,n=e.slotStart,a=e.slotEnd,i=e.status,s=e.stopsUntilDelivery,c=e.deliveryStart,l=e.deliveryEnd,d=e.punctuality;switch(i){case ht.l.PREPARING_ORDER:return r()(yo,{orderNo:t,postcode:o,slotStart:n,slotEnd:a});case ht.l.DELIVERY_SCHEDULED:return r()(ho,{orderNo:t,postcode:o,slotStart:n,slotEnd:a,stops:s,deliveryStart:c,deliveryEnd:l,punctuality:d});case ht.l.ARRIVED_AT_CUSTOMER_LOCATION:return r()(go,{orderNo:t,postcode:o,slotStart:n,slotEnd:a,punctuality:d});case ht.l.DELIVERED:return r()(fo,{orderNo:t,postcode:o,slotStart:n,slotEnd:a});default:return null}},Oo=r()(po,{shoppingMethod:ot.j}),xo=Object(K.a)(["t"])(Object(D.a)((function(e){return{isWhooshStoreHotHouse:Object(Ke.a)(e),isOnDemandDynamicDelivery:Object(Ze.b)(e),fulfilmentEstimatedTime:Object(Ve.f)(e)}}))((function(e){var t=e.t,o=e.orderNo,n=e.postcode,a=e.status,i=e.deliveryStart,s=e.deliveryEnd,c=e.isWhooshStoreHotHouse,l=e.isOnDemandDynamicDelivery,d=e.fulfilmentEstimatedTime,u=a.replace(/_/g,"-").toLowerCase(),p=r()(St,{postcode:n,shoppingMethod:ot.j}),m=Object(ae.n)(c),f=Object(ae.a)(!0,l,d,!0),v=f.onDemandDynamicDeliverySuffix,h=f.unit,y=f.min,b=f.max,g=[ht.l.DELIVERY_SCHEDULED,ht.l.ARRIVED_AT_CUSTOMER_LOCATION].includes(a)?r()(gt,{start:i,end:s,alt:!0,tagName:"span"}):a!==ht.l.DELIVERED?t("context-cards:ondemand-wismo-stepper.steps.".concat(u,".primary").concat(m).concat(v),{unit:h,min:y,max:b}):t("context-cards:ondemand-wismo-stepper.steps.".concat(u,".primary")),k=x.a.createElement(x.a.Fragment,null,t("context-cards:ondemand-wismo-stepper.steps.".concat(u,".secondary")),a===ht.l.DELIVERED&&Oo),O=r()(It,{primaryDeliveryStatus:g,secondaryDeliveryStatus:k});return x.a.useEffect((function(){return lo(ot.j,{status:a},o)}),[]),r()(Xt,{deliveryHeading:p,deliveryStatus:O,status:a,shoppingMethod:ot.j})}))),wo=function(e){return[ht.l.PREPARING_ORDER,ht.l.DELIVERY_SCHEDULED,ht.l.ARRIVED_AT_CUSTOMER_LOCATION,ht.l.DELIVERED,ht.l.NOT_AVAILABLE].includes(e.status)?x.a.createElement(xo,e):null};function jo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Do(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(o),!0).forEach((function(t){k()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):jo(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var _o=r()("span",{className:"icon-api-warning"},void 0," "),So=r()("div",{className:"context-card-wismo__icon-info"},void 0,r()(pt.a,{graphic:"info",inverse:!0})),Co=function(e){f()(o,e);var t=No(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"formatDate",(function(t){return Object(nt.c)(t,e.props.timezone,e.props.language)})),k()(p()(e),"componentDidMount",(function(){if(!e.props.showWismoStepper){var t,o=e.props,n=o.orderNo,r=o.slot,a=o.wismoSlot,i="",s="",c="wismo";a.deliveryWindow&&(i=a.deliveryWindow.start,s=a.deliveryWindow.end),(null===(t=a.currentTrackingStatus)||void 0===t?void 0:t.punctuality)&&(c="wismo ".concat(a.currentTrackingStatus.punctuality.toLowerCase())),Object(vt.a)(ye.a,{type:F.P,value:c,action:F.nb,orderNo:n,slotTime:"".concat(r.start," - ").concat(r.end),wismoTime:i&&s?"".concat(i," - ").concat(s):""})}})),k()(p()(e),"onClickEvt",(function(t){var o,n=e.props,r=n.wismoSlot,a=n.cutsMustard,i=n.deviceType,s=n.isFirstTimeShopper,c=n.storeId,l=n.showWismoStepper,d=n.shoppingMethod,u=e.getStarRatingConfig().opinionLabRefererUrl,p={cutsMustard:String(a),deviceType:i,isFirsttimeShopper:String(s),storeId:c,overall_rating:t,url:u},m="wismo";(r.currentTrackingStatus&&r.currentTrackingStatus.punctuality&&(m="wismo ".concat(r.currentTrackingStatus.punctuality.toLowerCase())),l)?uo(t,Object(ae.i)(d)?{status:null==r||null===(o=r.currentTrackingStatus)||void 0===o?void 0:o.status}:null==r?void 0:r.currentTrackingStatus,d):Object(vt.a)(ye.a,{type:"".concat(t," star"),value:m,action:F.nb});window.OOo.oo_launchStarRating(Do(Do({},p),Object(mt.a)()))})),e}return d()(o,[{key:"getStarRatingConfig",value:function(){var e,t,o=this.props,n=o.t,r=o.c,a=o.shoppingMethod,i=k()({},ot.j,{referer:r("opinionLab:refererUrls:ondemandwismo"),legend:n("context-cards:feedback-stars-ondemand-legend")});return{opinionLabRefererUrl:(null===(e=i[a])||void 0===e?void 0:e.referer)||r("opinionLab:refererUrls:wismo"),legendText:(null===(t=i[a])||void 0===t?void 0:t.legend)||n("context-cards:feedback-stars-legend")}}},{key:"getDeliveryData",value:function(){var e=this.props.wismoSlot,t="",o="",n=!1;if(e.deliveryWindow&&e.currentTrackingStatus){var r=e.currentTrackingStatus.punctuality;t=this.formatDate(e.deliveryWindow.start),o=this.formatDate(e.deliveryWindow.end),n=r===ht.n.DELAYED}return{deliveryStart:t,deliveryEnd:o,isWarning:n}}},{key:"getWismoCard",value:function(){var e=this.getDeliveryData(),t=e.deliveryStart,o=e.deliveryEnd,n=e.isWarning,a=this.props,i=a.t,s=a.showWismoStepper,c=a.shoppingMethod,l=a.address,d=a.orderNo,u=a.slot,p=a.wismoSlot,m=l.postcode,f=this.formatDate(u.start),v=this.formatDate(u.end),h=p.currentTrackingStatus,y=h.status,b=h.punctuality,g=h.stopsUntilDelivery;return s?Object(ae.i)(c)?r()(wo,{orderNo:d,postcode:m,status:y,deliveryStart:t,deliveryEnd:o}):r()(ko,{postcode:m,orderNo:d,slotStart:f,slotEnd:v,status:y,punctuality:b,stopsUntilDelivery:g,deliveryStart:t,deliveryEnd:o}):x.a.createElement(x.a.Fragment,null,r()("div",{className:j()("context-card-wismo__top",{"context-card-wismo--info":!n})},void 0,r()(He.a,{},void 0,r()("div",{className:"context-card-wismo__icon"},void 0,i("common:today"))),n?_o:So,r()("div",{className:j()("context-card-wismo__title",{"context-card-wismo__title-info":!n}),"data-auto":"context-card-wismo-title"},void 0,r()("h2",{className:"context-card-wismo__title-text","data-auto":"context-card-wismo-title-text"},void 0,i("context-cards:wismo-context-card-title")),r()(Fe,{start:t,end:o,alt:!0}),n&&r()("h2",{"data-auto":"context-card-wismo-update-message"},void 0,i("context-cards:wismo-context-card-update-message")))),r()("div",{className:"context-card-wismo__main","data-auto":"context-card-wismo-main"},void 0,r()(et,{address:this.props.address,start:t,end:o,guidePrice:this.props.guidePrice,alt:!0,showTime:!1})))}},{key:"render",value:function(){var e=this.props.t,t=[e("context-cards:star-rating-radio-1"),e("context-cards:star-rating-radio-2"),e("context-cards:star-rating-radio-3"),e("context-cards:star-rating-radio-4"),e("context-cards:star-rating-radio-5")],o=this.getStarRatingConfig().legendText;return r()("div",{className:"context-card-book-a-slot-order-due","data-auto":"context-card-wismo"},void 0,this.getWismoCard(),r()("div",{className:"context-card-wismo__star-rating","data-auto":"context-card-wismo-star-rating"},void 0,r()(ft.a,{name:"rating",inlineDescriptors:!0,ratingLabels:t,legendText:o,onClick:this.onClickEvt})))}}]),o}(O.Component);Co.defaultProps={wismoSlot:{},showWismoStepper:!1};var Ro,Eo=Object(D.a)((function(e){return{language:Object(N.K)(e),timezone:Object(N.Z)(e),cutsMustard:Object(N.v)(e),deviceType:Object(N.x)(e),isFirstTimeShopper:Object(_.k)(e),storeId:Object(_.A)(e)}}))(Object(K.a)(["t","c"])(Co)),Po=o(51),Io=o.n(Po),Ao=o(1436),To=o(194),Mo=o(56),Lo=o(161),Ho=o(183),Bo=o(317),Wo=o(109),zo=o(82),Uo=o(36),Fo=o(180),Yo=o(353);function Go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var Vo=Object(xe.default)(Ao.a).withConfig({displayName:"amend-order-context-card__StyledNotification",componentId:"a7bfp-0"})(["margin-bottom:18px;"]),Ko=Object(K.a)(["c","f","t","l"])(Ro=Object(D.a)((function(e,t){var o=t.f,n=t.c,r=Object(S.Cb)(e),a=o("allowAmendSlot")&&!r;return{checkoutInAmend:n("checkout:enableInAmendMode"),currentUrl:Object(N.u)(e),defaultSlotsPath:Object(ro.f)(o)(e),language:Object(N.K)(e),isPostalDelivery:r,showAmendChangeSlot:a,taxonomyFirstItem:Object(Ho.c)(e),timezone:Object(N.Z)(e)}}),{selectTaxonomyItem:Lo.d,toggleModal:ve.z,openNavMenu:ve.q,openModal:ve.p})(Ro=function(e){f()(o,e);var t=Go(o);function o(e){var n;return c()(this,o),n=t.call(this,e),k()(p()(n),"handleAddCouponClick",(function(e){e&&e.preventDefault(),n.props.openModal(Uo.p)})),n}return d()(o,[{key:"getChevronLink",value:function(e){var t=e.analyticsId,o=e.action,n=e.translationKey,a=e.href,i=e.onClick,s=e.dataAuto,c=this.props,l=c.c,d=(0,c.t)(n);return r()(To.a,{className:"context-card-amend-order__option-link",to:a,title:d,"data-auto":s,onClick:function(e){l("enableCheckoutJourneyModals")||Object(vt.a)(ye.a,{type:"contextCard",value:t,action:o}),"function"==typeof i&&i(e)}},t,d)}},{key:"getAddItemsLink",value:function(){var e=this;return this.getChevronLink({analyticsId:"change items",action:"now",href:this.props.l("/shop"),translationKey:"home:amend-order.add-items-to-basket",dataAuto:"amend-add-items-link",onClick:function(t){t.stopPropagation(),e.props.openNavMenu(),e.props.selectTaxonomyItem(Wo.d,e.props.taxonomyFirstItem,zo.h),t.preventDefault()}})}},{key:"getChangeSlotLink",value:function(){return this.getChevronLink({analyticsId:"change slot",action:"delay",href:this.props.l(this.props.defaultSlotsPath),translationKey:"home:amend-order.change-your-slot",dataAuto:"amend-change-slot-link"})}},{key:"getAddCouponForPostalDelivery",value:function(){var e=this.props.currentUrl;return this.getChevronLink({analyticsId:"add coupons",action:"delay",href:Object(Mo.a)(e,Uo.p),translationKey:"home:amend-order.add-coupons-vouchers",dataAuto:"add-vouchers-ecoupons",onClick:this.handleAddCouponClick})}},{key:"getAddCouponsLink",value:function(){var e=this,t={analyticsId:"add coupons",action:"delay",translationKey:"home:amend-order.add-coupons-vouchers",dataAuto:"add-vouchers-ecoupons"};return(0,this.props.c)("enableCheckoutJourneyModals")?(t.href=Object(Mo.a)(this.props.currentUrl,Uo.d),t.onClick=function(t){e.props.toggleModal(Uo.d),t.preventDefault()}):t.href=Object(Bo.c)(Object(Yo.a)(this.props.l,this.props.currentUrl,!1),Fo.a,[Fo.a]),this.getChevronLink(t)}},{key:"getChangePaymentDetailsLink",value:function(){var e=this,t={analyticsId:"change payment",action:"delay",translationKey:"home:amend-order.change-payment-details",dataAuto:"amend-change-payment-link"};return(0,this.props.c)("enableCheckoutJourneyModals")?(t.href=Object(Mo.a)(this.props.currentUrl,Uo.f),t.onClick=function(t){e.props.toggleModal(Uo.f),t.preventDefault()}):t.href=Object(Bo.c)(Object(Yo.a)(this.props.l,this.props.currentUrl,!1),Fo.b,[Fo.b]),this.getChevronLink(t)}},{key:"getBodyText",value:function(){var e=this.props,t=e.isPostalDelivery,o=e.t,n=e.address,r=e.order,a=e.language,i=e.timezone,s="home:amend-order.context-card-details-within-x-working-days",c=e.workingDays;return t||(s="home:amend-order.context-card-details",c=Io()(r.slot.start).tz(i).locale(a).format("ll")),o(s,{address_name:n.name,order_date:c})}},{key:"render",value:function(){var e=this.props,t=e.t,o=e.c,n=e.checkoutInAmend,a=e.isPostalDelivery,i=e.showAmendChangeSlot,s=this.getBodyText(),c=o("showPriceInfoAmendContextCard");return r()("div",{className:"context-card-amend-order","data-auto":"context-card-amend-order"},void 0,r()("h2",{className:"context-card-amend-order__title"},void 0,t("home:amend-order.context-card-title")),r()("p",{},void 0,r()(Me.a,{},void 0,s)),r()("div",{className:"context-card-amend-order__options"},void 0,r()("div",{className:"context-card-amend-order__option left"},void 0,this.getAddItemsLink(),i&&this.getChangeSlotLink()),r()("div",{className:"context-card-amend-order__option right"},void 0,a&&!n?this.getAddCouponForPostalDelivery():x.a.createElement(x.a.Fragment,null,this.getAddCouponsLink(),o("changePaymentDetailsEnabled")&&this.getChangePaymentDetailsLink()))),c&&r()(Vo,{title:t("home:amend-order.prices-might-change"),showIcon:!0}))}}]),o}(x.a.Component))||Ro)||Ro;function Zo(){var e=Tt()(["\n      top: 24px;\n      left: 12px;\n    "]);return Zo=function(){return e},e}function qo(){var e=Tt()(["\n      top: 30px;\n      left: 20px;\n    "]);return qo=function(){return e},e}var Jo=Object(xe.default)(kt.a).withConfig({displayName:"styled__StyledDayIconSignpost",componentId:"sc-1fixzpe-0"})(["&&{position:absolute;text-align:center;",";",";}"],Mt.media.aboveTablet(qo()),Mt.media.belowTabletLarge(Zo())),Qo=Object(xe.default)(Rt.a).withConfig({displayName:"styled__StyledSlotGuaranteeBodyText",componentId:"sc-1fixzpe-1"})(["&&{margin-top:",";}"],we.spacing.xl),$o=Object(xe.css)(["display:inline;"]),Xo=o(1),en=o.n(Xo),tn=x.a.forwardRef((function(e,t){return r()("div",{className:"action"},void 0,r()(he.a,{"data-auto":"action-button","aria-describedby":e.ariaDescribedBy,domRef:t,className:j()({button:!0,"button-primary":!0,"long-text":e.longText}),to:e.to,onClick:e.onClick},void 0,e.label))}));tn.propTypes={ariaDescribedBy:en.a.string,label:en.a.oneOfType([en.a.string,en.a.element]),longText:en.a.bool,onClick:en.a.func,to:en.a.string};var on,nn=tn,rn=o(158);function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var sn=r()(He.a,{},void 0,r()("div",{className:"icon-bookaslot-01-white"})),cn=Object(K.a)(["t","l","f"])(on=Object(D.a)((function(e,t){var o=t.f;return{language:Object(N.K)(e),timezone:Object(N.Z)(e),trolleyShoppingMethod:Object(S.mb)(e),defaultSlotsPath:Object(N.L)(e,Object(ro.f)(o)(e))}}))(on=function(e){f()(o,e);var t=an(o);function o(){var e;c()(this,o);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),k()(p()(e),"formatDate",(function(t){var o=e.props,n=o.timezone,r=o.language;return Object(nt.c)(t,n,r)})),k()(p()(e),"renderLightDeliverySelectedCard",(function(t){var o=e.props.t;return r()("div",{className:"context-card-book-a-slot--reserved"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,r()(He.a,{},void 0,r()(Be,{date:t})),r()("h2",{className:"context-card-book-a-slot__title","data-auto":"context-card-expired-title"},void 0,o("home:book-a-slot.light-delivery.delivery-has-been-selected")),r()("div",{className:"context-card-book-a-slot__text"},void 0,r()("span",{},void 0,o("home:book-a-slot.light-delivery.confirm-your-delivery-time")))),r()("div",{className:"context-card-book-a-slot--bottom"},void 0,r()("span",{},void 0,o("home:book-a-slot.light-delivery.last-order"))))})),k()(p()(e),"renderSameDaySelectedCard",(function(){var t=e.props,o=t.t,n=t.order.slot,a=t.timezone,i=t.language,s=t.defaultSlotsPath,c="".concat(Object(Ye.f)(n)?o("home:book-a-slot.same-day.delivery-day-label"):e.formatDate(n.start).format("DD MMM YYYY")," ");return Object(rn.a)(n)?r()("div",{className:"context-card-book-a-slot--reserved"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,r()(He.a,{},void 0,r()(Jo,{},void 0,c)),r()("h2",{className:"context-card-book-a-slot__title","data-auto":"context-card-expired-title"},void 0,o("home:book-a-slot.same-day.delivery-has-been-selected")),r()("div",{className:"context-card-book-a-slot__text"},void 0,r()(Rt.a,{styles:$o},void 0,c),r()(kt.a,{styles:$o},void 0,Object(Ye.a)(n.start,n.end,a,i)),r()(Qo,{},void 0,o("home:book-a-slot.same-day.slot-guarantee-message"))))):r()("div",{className:"context-card-book-a-slot--expired"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,sn,r()("h2",{className:"context-card-book-a-slot__title","data-auto":"context-card-expired-title"},void 0,o("home:book-a-slot.slot-booked.slot-expired")),r()("div",{className:"context-card-book-a-slot__text"},void 0,r()(Rt.a,{styles:$o},void 0,c),r()(kt.a,{styles:$o},void 0,Object(Ye.a)(n.start,n.end,a,i))),r()(nn,{label:o("slots:common.book-a-new-slot"),to:s})))})),e}return d()(o,[{key:"render",value:function(){var e=this.formatDate();switch(this.props.trolleyShoppingMethod){case ot.i:return this.renderLightDeliverySelectedCard(e);case ot.n:return this.renderSameDaySelectedCard();default:return null}}}]),o}(O.Component))||on)||on;function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var dn,un=function(e){f()(o,e);var t=ln(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"formatDate",(function(t){var o=e.props,n=o.language,r=o.timezone;return Object(nt.c)(t,r,n)})),e}return d()(o,[{key:"renderGuidePrice",value:function(e){var t=this.props,o=t.c,n=t.t;return e&&r()("p",{className:"context-card-book-a-slot__price"},void 0,r()("span",{className:"context-card-book-a-slot__guide-label"},void 0,"".concat(n("common:guide-price"),":")),x.a.createElement(We.a,L()({},o("currency"),{className:"context-card-book-a-slot__guide-price",enableMaxLimit:!0,value:e})))}},{key:"render",value:function(){var e=this.props.t,t=this.props.order,o=t.guidePrice,n=t.slot,a=this.formatDate(n.start),i=this.formatDate(n.end);return r()("div",{className:"context-card-book-a-slot--order-placed","data-auto":"hp-light-delivery-created-context-card"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,r()(He.a,{},void 0,r()(Be,{date:i})),r()("h2",{className:"context-card-book-a-slot__title"},void 0,e("home:book-a-slot.order-placed.title")),r()("div",{className:"context-card-book-a-slot__text"},void 0,e("home:book-a-slot.light-delivery.estimated-delivery-time"),r()(Fe,{start:a,end:i}),this.renderGuidePrice(o))))}}]),o}(O.Component),pn=Object(yt.a)(Object(K.a)(["t","c"]),Object(D.a)((function(e){return{language:Object(N.K)(e),timezone:Object(N.Z)(e)}})))(un),mn=o(764),fn=o(59);function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var hn=r()("span",{className:"context-card-book-a-slot__change-your-slot-link icon-chevron_right"}),yn=r()("span",{className:"context-card-book-a-slot__add-ecoupon-link icon-chevron_right"}),bn=Object(K.a)(["t","c","f"])(dn=Object(D.a)((function(e,t){var o=t.c,n=t.f;return{currentUrl:Object(N.u)(e),displayAsGuidePrice:o("displayAsGuidePrice")&&!Object(S.Cb)(e),language:Object(N.K)(e),timezone:Object(N.Z)(e),showChangeYourSlotLink:n("allowAmendSlot"),slotsLanguageLink:Object(N.L)(e,Object(ro.f)(n)(e))}}),{openModal:ve.p})(dn=function(e){f()(o,e);var t=vn(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"handleClick",(function(t){t&&t.preventDefault(),e.props.openModal(Uo.p),Object(vt.a)(ye.a,{type:"contextCard",value:"add ecoupons"})})),k()(p()(e),"formatDate",(function(t){return Object(nt.c)(t,e.props.timezone,e.props.language)})),e}return d()(o,[{key:"render",value:function(){var e=this.props,t=e.order,o=t.slot,n=t.expiry,a=t.address,i=t.guidePrice,s=t.orderPlacedOn,c=e.displayAsGuidePrice,l=e.t,d=e.hasTrolleyItems,u=e.currentUrl,p=e.showChangeYourSlotLink,m=e.slotsLanguageLink,f=this.formatDate(o.start),v=this.formatDate(o.end),h=l("home:book-a-slot.order-amended.details",{save_by_date_time:this.formatDate(n).format("dddd DD MMMM, HH:mm")});return r()("div",{className:"context-card-book-a-slot--order-amended","data-auto":"context-card-amend-order"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,r()(He.a,{},void 0,r()(Be,{date:v})),r()("h2",{className:"context-card-book-a-slot__title"},void 0,l("home:book-a-slot.order-amended.title")),r()(et,{address:a,displayAsGuidePrice:c,end:v,guidePrice:i,orderPlacedOn:s,start:f}),r()("div",{className:"action"},void 0,r()(mn.a,{buttonText:l("home:book-a-slot.order-amended.save-changes"),disabled:!d}),p?r()(fn.a,{className:"context-card__change-your-slot hidden-small-medium",href:m,"data-auto":"amend-change-slot-link"},void 0,l("home:amend-order.change-your-slot"),hn):r()(fn.a,{className:"context-card__add-ecoupon hidden-small-medium",href:Object(Mo.a)(u,Uo.p),onClick:this.handleClick},void 0,l("orders:amend.add-ecoupons-vouchers"),yn))),!p&&r()("div",{className:"context-card-book-a-slot--bottom"},void 0,r()(Me.a,{},void 0,h)))}}]),o}(O.Component))||dn)||dn;function gn(){Object(vt.a)(ye.a,{type:F.O,value:F.F,action:F.R})}var kn,On=Object(K.a)(["f"])(Object(D.a)((function(e,t){var o=t.f;return{defaultSlotsPath:Object(ro.f)(o)(e)}}))((function(e){return e.isEmpty||e.cannotPurchaseTrolley?r()("div",{className:"action"},void 0,r()(he.a,{className:"button button-secondary",to:e.l(e.defaultSlotsPath),"data-auto":"action-button"},void 0,e.t("home:book-a-slot.change-slot"))):r()("div",{className:"action"},void 0,r()(he.a,{className:"button button-primary",to:Object(Yo.a)(e.l,e.currentUrl,!1),onClick:gn,"data-auto":"action-button"},void 0,e.t("home:book-a-slot.checkout")))}))),xn=o(613),wn=o(559),jn=function(e){var t=e.timeLeft,o=e.expiry,n=e.t,a=e.shoppingMethod,i=e.slotExpiredCB,s="",c=Object(ae.i)(a),l=o.calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]"}),d=function(){i()};return r()("p",{className:"context-card-book-a-slot--info-message","data-auto":"context-card-info-message"},void 0,function(){if(t>0)if("today"===l){if(c)return e=n("home:book-a-slot.slot-booked.checkout-by-ondemand-checkout-in"),a=n("home:book-a-slot.slot-booked.checkout-by-ondemand-product-prices-offers"),s=x.a.createElement(x.a.Fragment,null,r()("span",{},void 0,e),r()(at.c,{},void 0,r()(xn.a,{countdownEnd:o,cbKey:wn.a.ONDEMAND_ZERO_REMAINING_HOMEPAGE,cb:d})),r()("span",{},void 0,". ",a));s=n("home:book-a-slot.slot-booked.ckeckout-by-today",{check_out_by:o.format("HH:mm")})}else s="tomorrow"===l?n("home:book-a-slot.slot-booked.ckeckout-by-tomorrow",{check_out_by:o.format("HH:mm")}):n("home:book-a-slot.slot-booked.ckeckout-by",{check_out_on:o.format("DD-MM-YYYY"),check_out_by:o.format("HH:mm")});var e,a;return r()(Me.a,{},void 0,s)}())},Dn=Object(Ge.b)((function(e,t){var o=t.f,n=Object(S.mb)(e),r=Object(ae.i)(n);return{defaultSlotsPath:Object(N.L)(e,Object(ro.f)(o)(e)),language:Object(N.K)(e),shoppingMethod:n,overrideSlotExpiredMessage:r,showBasketInfo:r}})),Nn=r()(He.a,{},void 0,r()("div",{className:"icon-bookaslot-01-white"})),_n=Object(yt.a)(Object(K.a)(["t","f"]),Dn)((function(e){var t=e.deliveryBy,o=e.start,n=e.end,a=e.address,i=e.t,s=e.defaultSlotsPath,c=e.language,l=e.shoppingMethod,d=e.showBasketInfo,u=e.overrideSlotExpiredMessage;return r()("div",{className:"context-card-book-a-slot--expired"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,Nn,r()("h2",{className:"context-card-book-a-slot__title","data-auto":"context-card-expired-title"},void 0,i(u?"home:book-a-slot.slot-booked.slot-expired-".concat(l):"home:book-a-slot.slot-booked.slot-expired")),t?r()(et,{address:a,deliveryBy:t,showDeliverySlotWindow:!1,showDeliveryType:u,shoppingMethod:l}):r()(et,{address:a,start:o,end:n,showDeliveryType:u,shoppingMethod:l}),r()(nn,{longText:"cs-CZ"===c,label:i("slots:common.book-a-new-slot"),to:s})),r()("div",{className:j()("context-card-book-a-slot--bottom",{"basket--info":d})},void 0,d&&r()("p",{className:"context-card-book-a-slot--info-message"},void 0,i("home:book-a-slot.slot-booked.items-in-basket-info"))))}));function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var Cn=Object(K.a)(["l","t","c"])(kn=Object(D.a)((function(e){var t=Object(S.mb)(e),o=Object(ae.i)(t);return{currentUrl:Object(N.u)(e),language:Object(N.K)(e),timezone:Object(N.Z)(e),trolleyShoppingMethod:t,showExpiringState:!o,overrideReservationMessage:o}}))(kn=function(e){f()(o,e);var t=Sn(o);function o(e){var n;return c()(this,o),n=t.call(this,e),k()(p()(n),"formatDate",(function(e){return Object(nt.c)(e,n.props.timezone,n.props.language)})),k()(p()(n),"slotReservedCard",(function(e,t,o,a,i){var s=n.props,c=s.address,l=s.currentUrl,d=s.l,u=s.order,p=u.isEmpty,m=u.cannotPurchaseTrolley,f=s.overrideReservationMessage,v=s.t,h=s.trolleyShoppingMethod,y=e?v("home:book-a-slot.slot-booked.slot-expiring"):n.getSlotReservedText();return r()("div",{className:j()({"context-card-book-a-slot--reserved":!e,"context-card-book-a-slot--expiring":e}),"data-auto":"slot-booked-context-card"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,r()(He.a,{},void 0,r()(Be,{date:a})),r()("h2",{className:"context-card-book-a-slot__title","data-auto":"context-card-reserved-title"},void 0,y),r()(et,{address:c,start:o,end:a,shoppingMethod:h,showDeliveryType:f}),r()(On,{currentUrl:l,isEmpty:p,cannotPurchaseTrolley:m,l:d,t:v})),r()("div",{className:"context-card-book-a-slot--bottom"},void 0,r()(jn,{expiry:i,t:v,timeLeft:t,shoppingMethod:h,slotExpiredCB:function(){n.setState({isSlotExpired:!0})}})))})),n.state={isSlotExpired:!1},n}return d()(o,[{key:"getSlotReservedText",value:function(){var e=this.props,t=e.trolleyShoppingMethod,o=e.t;return o(e.overrideReservationMessage?"home:book-a-slot.slot-booked.slot-reserved-".concat(t):"home:book-a-slot.slot-booked.slot-reserved")}},{key:"render",value:function(){var e=this.props,t=e.address,o=e.c,n=e.order,a=n.expiry,i=n.slot,s=e.showExpiringState,c=this.formatDate(i.start),l=this.formatDate(i.end),d=this.formatDate(a),u=this.formatDate(),p=d.diff(u,"seconds"),m=s&&p<60*o("minutesBeforeSlotExpiryWarning");return p>0?this.slotReservedCard(m,p,c,l,d):r()(_n,{start:c,end:l,address:t})}}]),o}(O.Component))||kn)||kn,Rn=o(650),En=o(561),Pn=o(360),In={default:"1162-a",variantB:"1162-b",variantC:"1162-c",variantD:"1162-d"},An="oop1162",Tn=!0,Mn=In,Ln=function(e){return Object(re.h)(e,An,{},Tn)},Hn=function(e){var t=Ln(e);return null!=t?t:Mn.default},Bn=function(e){var t=Ln(e),o=In;return[o.variantB,o.variantC,o.variantD].includes(t)},Wn=xe.default.p.withConfig({displayName:"styled__ContextCardDetails",componentId:"sc-4ezgso-0"})(["padding:2px 93px 2px 0;@media (max-width:","){padding:10px 0 0 0;}"],je.d),zn=xe.default.span.withConfig({displayName:"styled__LinkButtonText",componentId:"sc-4ezgso-1"})(["font-size:",";"],we.fontSize.xs),Un=xe.default.div.withConfig({displayName:"styled__ActionButton",componentId:"sc-4ezgso-2"})(["padding:20px 0;@media (min-width:","){padding:10px 0;}"],je.d),Fn=Object(D.a)((function(e){return{variant:Hn(e),ccLink:Object(N.L)(e,Object(Ye.b)("collection"))}}),{}),Yn=function(){Object(vt.a)(ye.a,{type:F.O,value:F.Rb,action:F.R})},Gn=Object(yt.a)(Fn)((function(e){var t=e.buttonLabel,o=e.ccLink,n=e.to,a=e.t,i=e.variant;return x.a.createElement(x.a.Fragment,null,r()("div",{className:"context-card-book-a-slot__text"},void 0,r()("p",{className:"context-card-book-a-slot--details"},void 0,r()(Wn,{},void 0,a("home:book-a-slot.no-slot-booked.oop1162.".concat(i,".details"))))),r()("div",{className:"context-card-book-a-slot__text"},void 0,r()(ao.a,{href:o,rel:"noopener",onClick:Yn},void 0,a("home:book-a-slot.no-slot-booked.oop1162.goToCCLink"))),r()(Un,{className:"action"},void 0,r()(Rn.a,{href:n,stretch:!0},void 0,r()(zn,{},void 0,t))))})),Vn=o(64),Kn=o(338),Zn=o(340),qn=o(557),Jn=o(1425),Qn=o(1417),$n=o(83);function Xn(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function er(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(o),!0).forEach((function(t){k()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Xn(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var or,nr=function(e){f()(o,e);var t=tr(o);function o(e){var n;c()(this,o),n=t.call(this,e),k()(p()(n),"state",{isOpen:!0,refreshToken:"init"}),k()(p()(n),"BodyTextStyled",Object(xe.default)(Rt.a).withConfig({displayName:"first-time-shopper-tooltip",componentId:"sc-5g07jd-0"})(["&&{color:",";}"],we.colors.inverse)),k()(p()(n),"SignpostStyled",Object(xe.default)(kt.a).withConfig({displayName:"first-time-shopper-tooltip",componentId:"sc-5g07jd-1"})(["&&{color:",";}"],we.colors.inverse)),k()(p()(n),"handleWindowResize",Object($n.b)((function(){n.setState({refreshToken:"".concat(Math.random())})}),100)),k()(p()(n),"overrideTheme",(function(e){return function(t){var o=t.colors;return{colors:er(er({},o),{},{background:er(er({},o.background),{},{base:we.colors.info(e)})})}}}));var r=e.t,a=e.firstTimeShopperTooltipVariant;return n.content={title:r("home:book-a-slot.first-time-shopper-tooltip-message.title"),body:r("home:book-a-slot.first-time-shopper-tooltip-message.variant-".concat(a))},n.accessibleLabel="".concat(n.content.title," ").concat(n.content.body),n.replaceTooltip=n.replaceTooltip.bind(p()(n)),n}return d()(o,[{key:"componentDidMount",value:function(){this.addWindowEventListener()}},{key:"componentWillUnmount",value:function(){this.removeWindowEventListener(),clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(e){var t=this.props.hasAcceptedCookiePolicy&&e.hasAcceptedCookiePolicy!==this.props.hasAcceptedCookiePolicy,o=e.hasAcceptedAppBanner!==this.props.hasAcceptedAppBanner,n=e.isHeaderSearchOpen!==this.props.isHeaderSearchOpen;(e.isMultiSearchLinkVisible!==this.props.isMultiSearchLinkVisible||t||o||n)&&this.replaceTooltip()}},{key:"addWindowEventListener",value:function(){this.props.isDesktop?window.addEventListener("resize",this.handleWindowResize):window.addEventListener("orientationchange",this.replaceTooltip)}},{key:"removeWindowEventListener",value:function(){this.props.isDesktop?window.removeEventListener("resize",this.handleWindowResize):window.removeEventListener("orientationchange",this.replaceTooltip)}},{key:"replaceTooltip",value:function(){var e=this;this.setState({isOpen:!1}),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.setState({isOpen:!0})}),500)}},{key:"emitFTSExperimentAnayticsEvent",value:function(){Object(vt.a)(ye.a,{type:F.O,value:"tooltip:close",action:F.nb})}},{key:"onToolTipChange",value:function(e){if("close"===e.action){this.setState({isOpen:!1}),this.removeWindowEventListener();var t=Zn.e.getCookieKey,o=Zn.e.cookieExpiry;this.emitFTSExperimentAnayticsEvent(),Object(qn.b)(t(this.props.customerId),"closed",o,"/groceries")}}},{key:"render",value:function(){var e=this,t=this.SignpostStyled,o=this.BodyTextStyled,n=this.content,a=this.accessibleLabel,i=this.props,s=this.state,c=i.targetRef,l=i.id,d=i.isMobile,u=i.isNavMenuOpen,p=i.isSearchSuggestionsClosed;if(!s.isOpen||u||!p)return null;var m=this.overrideTheme(i);return r()(Qn.a,{overrides:m},void 0,r()(Jn.a,{refreshToken:s.refreshToken,id:l,accessibleLabel:a,open:!0,persist:!0,targetRef:c,position:d?"top":"bottom",onChange:function(t){return e.onToolTipChange(t)},supressTargetFocusOnClose:!0,tooltipWidth:296,styles:Object(xe.css)(["background-color:",";z-index:",";.beans-tooltip__pointer + button{background-color:",";}"],we.colors.info,d?11:13,we.colors.inverse)},void 0,r()(t,{},void 0,n.title),r()(o,{},void 0,n.body)))}}]),o}(O.Component),rr=Object(D.a)((function(e){return{isMobile:Object(N.I)(e),isDesktop:Object(N.H)(e),isNavMenuOpen:Object(Vn.p)(e),isHeaderSearchOpen:Object(Vn.o)(e),isSearchSuggestionsClosed:!Object(Kn.i)(e).length||!Object(Kn.j)(e),isMultiSearchLinkVisible:Object(Vn.h)(e),hasAcceptedCookiePolicy:Object(N.D)(e),hasAcceptedAppBanner:Object(N.C)(e),customerId:Object(_.e)(e)}}))(Object(K.a)(["t"])(Object(xe.withTheme)(nr)));function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var ir,sr=r()("br",{}),cr=r()(He.a,{},void 0,r()("div",{className:"icon-bookaslot-01-white"})),lr=Object(K.a)(["f","l","t","c"])(or=Object(D.a)((function(e,t){var o=t.f;return{defaultSlotsPath:Object(ro.f)(o)(e),firstTimeShopperTooltipVariant:Object(En.c)(e),is1HrLightDeliveryAvailable:Object(Pn.b)(e),isClickCollectContextCardOop1162:Bn(e),isDeliveryAvailable:Object(Pn.c)(e),language:Object(N.K)(e)}}))(or=function(e){f()(o,e);var t=ar(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"actionButtonRef",{}),k()(p()(e),"tooltipId","fts-tooltip"),e}return d()(o,[{key:"emitBookASlotAnalyticsEvent",value:function(){Object(vt.a)(ye.a,{type:F.O,value:F.x,action:F.R})}},{key:"getButtonLabel",value:function(){var e=this.props.t;return r()("span",{},void 0,r()("span",{className:"visually-hidden"},void 0,e("slots:fulfilment-card.not-booked.intro")),r()("span",{"aria-hidden":"true"},void 0,e("slots:fulfilment-card.not-booked.cta")))}},{key:"getShoppingMethods",value:function(){var e=this.props,t=e.c,o=e.isDeliveryAvailable,n=e.is1HrLightDeliveryAvailable,a=e.language,i=e.t;if(n&&o)return i("home:book-a-slot.no-slot-booked.details2-light-delivery");if(n)return i("home:book-a-slot.no-slot-booked.details2-light-delivery-only");var s=t("links:firstTimeShopping:".concat(a));return x.a.createElement(x.a.Fragment,null,r()(Me.a,{},void 0,i("home:book-a-slot.no-slot-booked.details2")),s&&x.a.createElement(x.a.Fragment,null,sr,r()(ao.a,{href:s,target:"_blank",rel:"noopener"},void 0,i("home:book-a-slot.no-slot-booked.details2-more"))))}},{key:"renderDefaultContextCard",value:function(){var e=this.props,t=e.defaultSlotsPath,o=e.l,n=e.t;return x.a.createElement(x.a.Fragment,null,r()("div",{className:"context-card-book-a-slot__text"},void 0,r()("p",{className:"context-card-book-a-slot--details"},void 0,n("home:book-a-slot.no-slot-booked.details")),r()("p",{className:"context-card-book-a-slot--details2"},void 0,this.getShoppingMethods())),r()(Un,{className:"action"},void 0,r()(Rn.a,{href:o(t),stretch:!0,onClick:this.emitBookASlotAnalyticsEvent},void 0,r()(zn,{},void 0,this.getButtonLabel()))))}},{key:"render",value:function(){var e=this.props,t=e.defaultSlotsPath,o=e.firstTimeShopperTooltipVariant,n=e.is1HrLightDeliveryAvailable,a=e.isClickCollectContextCardOop1162,i=e.t,s=e.l;return r()("div",{className:"context-card-book-a-slot--not-booked","data-auto":"hp-book-slot-context-card"},void 0,r()("div",{className:"context-card-book-a-slot__top"},void 0,cr,r()("h2",{className:"context-card-book-a-slot__title"},void 0,i("slots:fulfilment-card.not-booked.cta")),!a&&this.renderDefaultContextCard(),a&&r()(Gn,{t:i,buttonLabel:this.getButtonLabel(),to:s(t)}),o&&r()(rr,{id:this.tooltipId,targetRef:this.actionButtonRef,firstTimeShopperTooltipVariant:o})),r()("div",{className:"context-card-book-a-slot--bottom"},void 0,r()("p",{className:"context-card-book-a-slot--info-message"},void 0,i(n?"home:book-a-slot.no-slot-booked.details3-light-delivery":"home:book-a-slot.no-slot-booked.details3"))))}}]),o}(O.Component))||or)||or,dr=o(143),ur=function(e){var t=e.order,o=t.address,n=t.slot,a=n.start,i=n.end,s=e.timezone,c=e.language,l=e.title,d=e.slotMessage,u=e.footerTextBold,p=e.footerText,m=e.iconContent,f=Object(nt.c)(a,s,c),v=Object(nt.c)(i,s,c),h="context-card-book-a-slot__content context-card-book-a-slot--".concat(ot.k);return r()("section",{className:h},void 0,r()(at.a,{className:"context-card-book-a-slot__top"},void 0,r()(He.a,{},void 0,m),r()("h2",{className:"context-card-book-a-slot__title"},void 0,l),r()(et,{start:f,end:v,displayAsGuidePrice:!1,address:o,slotMessage:d})),r()("footer",{className:"context-card-book-a-slot--bottom"},void 0,r()("strong",{},void 0,u)," ",p))},pr=r()("div",{className:"icon-bookaslot-verified"}),mr=Object(yt.a)(Object(K.a)(["t","c"]),Object(D.a)((function(e){return{language:Object(N.K)(e),timezone:Object(N.Z)(e)}})))((function(e){var t=e.order,o=e.t,n=e.language,a=e.timezone,i=Object(nt.c)(t.slot.end,a,n),s=t.status.toLowerCase();return r()(ur,{order:t,iconContent:t.status===ht.m.PENDING?r()(Be,{date:i}):pr,title:o("home:book-a-slot.ondemandcollection.context-card.".concat(s,".title")),timezone:a,language:n,slotMessage:o("home:book-a-slot.ondemandcollection.context-card.".concat(s,".slotMessage")),footerTextBold:o("home:book-a-slot.ondemandcollection.context-card.".concat(s,".footer-1")),footerText:o("home:book-a-slot.ondemandcollection.context-card.".concat(s,".footer-2"))})}));function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var vr=r()(lr,{}),hr=r()(lr,{}),yr=Object(K.a)(["c"])(ir=Object(D.a)((function(e,t){var o=t.order,n=t.c,r=Object(ae.j)(o.shoppingMethod);return{items:Object(S.N)(e),language:Object(N.K)(e),timezone:Object(N.Z)(e),isPostalDelivery:r,displayAsGuidePrice:n("displayAsGuidePrice")&&!r,checkoutInAmend:n("checkout:enableInAmendMode"),isLightDelivery:Object(S.E)(e)||Object(ae.f)(null==o?void 0:o.shoppingMethod),isOnDemandCollect:Object(ae.g)(null==o?void 0:o.shoppingMethod)}}))(ir=function(e){f()(o,e);var t=fr(o);function o(){var e;c()(this,o);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),k()(p()(e),"formatDate",(function(t){return Object(nt.c)(t,e.props.timezone,e.props.language)})),k()(p()(e),"getOrderDueContextCard",(function(){var t=e.props,o=t.isPostalDelivery,n=t.displayAsGuidePrice,a=t.order,i=a.shoppingMethod,s=a.address,c=a.guidePrice,l=a.id,d=a.slot;return r()(ut,{isPostalDelivery:o,displayAsGuidePrice:n,address:s,guidePrice:c,orderId:l,slot:d,shoppingMethod:i})})),k()(p()(e),"getWismoContextCard",(function(){var t=e.props.order,o=t.shoppingMethod,n=t.slot,a=t.address,i=t.guidePrice,s=t.orderNo,c=t.wismoSlot,l=t.showWismoStepper;return r()(Eo,{shoppingMethod:o,slot:n,address:a,guidePrice:i,orderNo:s,wismoSlot:c,showWismoStepper:l})})),e}return d()(o,[{key:"render",value:function(){return r()("section",{className:"context-card-book-a-slot"},void 0,this.getContent())}},{key:"getContent",value:function(){var e=this.props,t=e.order,o=e.c,n=e.checkoutInAmend,a=e.items,i=e.address,s=e.isLightDelivery,c=e.isOnDemandCollect;if(null===t)return hr;var l=this.formatDate(),d=this.formatDate(t.expiry),u=l.isAfter(d),p=t.status!==ht.d&&t.status!==ht.j||!u?t.status:ht.f,m=Object(dr.c)(a);if(s&&p)switch(p){case ht.j:case ht.d:case ht.h:case ht.f:case ht.b:return r()(pn,{order:t});default:return r()(cn,{order:t})}if(c&&p)return r()(mr,{order:t});switch(p){case ht.k:case ht.e:case ht.b:return r()(Cn,{address:i,order:t});case ht.j:case ht.d:case ht.h:return r()(ct,{order:t});case ht.a:return x.a.createElement(x.a.Fragment,null,o("enableAmendModeModal")&&!n?r()(bn,{order:t,hasTrolleyItems:m}):r()(Ko,{order:t,address:i}));case ht.g:return this.getWismoContextCard();case ht.f:return this.getOrderDueContextCard();default:return vr}}}]),o}(O.Component))||ir)||ir,br=Object(yt.a)(Object(K.a)(["t"]),Object(D.a)((function(e){return{slot:Object(S.Ab)(e)?Object(S.t)(e):Object(Ve.w)(e),timezone:Object(N.Z)(e),language:Object(N.K)(e)}}))),gr=function(e){var t=e.t,o=e.slot,n=e.timezone,a=e.language;return r()(at.b,{},void 0,r()("div",{className:"context-card-book-a-slot--not-booked no-open-order-context-card","data-auto":"hp-book-slot-context-card"},void 0,r()("div",{className:j()("context-card-book-a-slot__top","context-card-book-a-slot__top--full-width")},void 0,x.a.createElement(x.a.Fragment,null,r()("h2",{"data-auto":"context-card-giab-title-text",className:j()("context-card-book-a-slot__title--full-width","context-card-book-a-slot__title")},void 0,function(){var e;if(!o)return t("common:no-open-order.no-slot-available-title");var r=null==o||null===(e=o.countdown)||void 0===e?void 0:e.deliveryDate;return t("common:no-open-order.title-busy",{deliveryDate:Object(rt.d)(r),month:Object(rt.b)(r,n,a)})}()),r()("div",{className:"context-card-book-a-slot__text"},void 0,r()("div",{className:"context-card-book-a-slot--details2"},void 0,function(){var e;if(!o)return x.a.createElement(x.a.Fragment,null,r()("p",{},void 0,t("common:no-open-order.no-slot-available-detail-1")),r()("p",{},void 0,t("common:no-open-order.no-slot-available-detail-2")));var n=null==o||null===(e=o.countdown)||void 0===e?void 0:e.workingDays;return n>3?t("common:no-open-order.details-busy"):t("common:no-open-order.details",{workingDays:n})}())),function(){if(!o)return null;var e=t("common:no-open-order.in-self-isolation-header"),n=t("common:no-open-order.in-self-isolation-message");return r()("div",{className:"self-isolation-message__container"},void 0,r()("h3",{},void 0,e),r()("p",{},void 0,n))}()))))};gr.prototype={t:en.a.func.isRequired,bookCollectionUrl:en.a.string.isRequired,deliveryDate:en.a.string,isCollectionAvailable:en.a.bool.isRequired,slot:en.a.object,language:en.a.string,timezone:en.a.string.isRequired};var kr=br(gr),Or=r()(kr,{}),xr=Object(D.a)((function(e){return{language:Object(N.K)(e),timezone:Object(N.Z)(e)}}))((function(e){var t=e.order,o=e.timezone,n=e.language,a=e.address;function i(e){return Object(nt.c)(e,o,n)}return r()("section",{className:"context-card-book-a-slot"},void 0,function(){if(null!==t){var e,s,c=(null==t||null===(e=t.slot)||void 0===e||null===(s=e.countdown)||void 0===s?void 0:s.workingDays)||3,l=i(),d=i(t.expiry),u=l.isAfter(d),p=[ht.d,ht.j].includes(t.status)&&u?ht.f:t.status;if([ht.j,ht.d,ht.h,ht.f].includes(p))return r()(ct,{order:t,isAmendOrder:!u});if(p===ht.e){var m=t.slot.countdown.deliveryDate;return r()(_n,{deliveryBy:{day:Object(rt.d)(m),month:Object(rt.b)(m,o,n)},address:a})}if(p===ht.a)return r()(Ko,{order:t,address:a,workingDays:c})}return Or}())})),wr=Object(D.a)((function(e,t){var o=t.f;return{defaultSlotsPath:Object(ro.f)(o)(e)}})),jr=function(){Object(vt.a)(ye.a,{type:F.O,value:F.v,action:F.R})},Dr=Object(yt.a)(Object(K.a)(["f","l","t"]),wr)((function(e){var t=e.l(e.defaultSlotsPath),o=e.t("common:pages.book-another-slot");return r()("div",{className:"multiple-orders-notice"},void 0,e.t("common:pages.multiple-order-notice"),"",r()(To.a,{to:t,className:"multiple-orders-notice__link",onClick:jr},void 0,o))})),Nr=o(423),_r=o(461),Sr=xe.default.div.withConfig({displayName:"styled__NotificationBannerWrapper",componentId:"sc-1kox3tz-0"})(["padding:0 6px;margin-top:-6px;@media (max-width:","){padding:0;margin-top:0;}"],je.d);Sr.displayName="NotificationBannerWrapper";var Cr,Rr=o(602),Er=function(e){var t=e.data;return t?r()(Sr,{},void 0,Object(Rr.b)({NotificationBanner:H.NotificationBanner,Panel:H.Panel},[t])):null},Pr=o(778),Ir=o(522),Ar=o(193);function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var Mr,Lr=r()(Dr,{}),Hr=r()(ge,{}),Br=Object(D.a)((function(e){return{favoritesLink:Object(Ar.a)(e,"/favorites"),isMobile:Object(N.I)(e),navItems:Object(Ho.d)(e),isPostalDelivery:Object(S.Cb)(e),topNotification:A(_r.d)(e),recentOrder:Object(bt.g)(e),wismoConfiguration:Object(bt.i)(e),renderFavTooltip:Object(Ir.b)(e)}}))(Cr=Object(K.a)(["c","t"])(Cr=function(e){f()(o,e);var t=Tr(o);function o(e){var n;return c()(this,o),n=t.call(this,e),k()(p()(n),"favoritesLinkClickHandler",(function(){Object(ye.a)().emit("UIEventBasicEvent",{action:"delay",type:"home",value:"shop favourites"})})),k()(p()(n),"getTooltipContent",(function(e,t){return r()(Pr.a,{id:"fav-nav-link-tooltip-mobile",targetRef:e,boundingRef:t,tooltipRootID:"browse-my-favorites",observerId:"content",mobileOnly:!0})})),k()(p()(n),"getDomRef",(function(e){n.targetRef.current=e})),n.targetRef=Object(O.createRef)(),n}return d()(o,[{key:"componentDidMount",value:function(){var e=this.props.wismoConfiguration||{},t=e.experiment,o=e.variation,n=e.optimizelyAttrs;Object(re.a)({experiment:t,variation:o,attributes:n})}},{key:"getMainBannerStyles",value:function(){return{minHeight:"".concat(this.props.navItems.length*Nr.b+Nr.c,"px")}}},{key:"shouldShowMultipleOrdersNotice",value:function(){var e=this.props,t=e.recentOrder,o=e.isAmendBasket,n=e.trolleyItems,r=e.slot;return t&&!o&&0===n.length&&!r}},{key:"render",value:function(){var e=this.props,t=e.recentOrder,o=e.isAmendBasket,n=e.c,a=e.t,i=e.user,s=e.welcomeTranslations,c=e.favoritesLink,l=e.topNotification,d=e.isPostalDelivery,u=e.address,p=e.renderFavTooltip,m=(null==t?void 0:t.address)||u,f=d&&(!(null==t?void 0:t.shoppingMethod)||t.shoppingMethod===ot.l),v=f?xr:yr,h=o&&n("showHomeAmendOrderContextCard")?Ko:v,y=j()("main-banner main-banner--signed-in",{"main-banner--overflow":!p});return r()("div",{className:y},void 0,r()("div",{style:this.getMainBannerStyles(),className:"hidden-small-medium"}),r()("div",{className:"main-banner--content main-banner--content-signed-in"},void 0,l&&r()(Er,{data:l}),r()("div",{className:"main-banner--greeting-wrapper"},void 0,r()(Te,{user:i,welcomeTranslations:s,showHeadlineInBlack:f})),r()("div",{className:"main-banner--context-card"},void 0,r()(h,{address:m,order:t})),this.shouldShowMultipleOrdersNotice()&&Lr,r()("div",{className:"main-banner--browse-wrapper"},void 0,Hr,r()("div",{className:"browse-my-favorites",id:"browse-my-favorites"},void 0,r()(ke.a,{onClick:this.favoritesLinkClickHandler,href:c,buttonText:a("home:new-user-banner.browse-favorites"),type:"secondary",buttonClass:"browse-favorites browse-favorites--button",domRef:this.getDomRef}),p&&this.getTooltipContent(this.targetRef)))))}}]),o}(x.a.Component))||Cr)||Cr,Wr=o(120),zr=o(618);function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var Fr,Yr=Object(K.a)(["t","c"])(Mr=Object(D.a)((function(e){return{loginUrl:Object(N.M)(e),registrationUrl:Object(N.V)(e)}}))(Mr=function(e){f()(o,e);var t=Ur(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"handleClick",(function(e){return function(){Object(zr.a)(e)}})),e}return d()(o,[{key:"render",value:function(){var e=this.props,t=e.t,o=e.c,n=e.loginUrl,a=e.registrationUrl;return r()("div",{className:"signin-register"},void 0,r()("h2",{className:"signin-register--header"},void 0,t("home:greeting-signed-out")),r()("div",{className:"signin-register--signin"},void 0,r()("div",{className:"signin-register--section-message"},void 0,r()(Wr.a,{headingTag:"h3",size:"medium",message:t("home:already-a-customer")})),r()("div",{className:"signin-register--signin-button","data-auto":"hp-signin-btn"},void 0,r()(he.a,{className:"button button-primary",to:n},void 0,t("common:sign-in")))),r()("div",{className:"signin-register--register"},void 0,r()("div",{className:"signin-register--section-message"},void 0,r()(Wr.a,{headingTag:"h3",size:"medium",message:t("home:new-to",{context:o("brand")})})),r()("div",{className:"signin-register--register-button","data-auto":"hp-register-btn"},void 0,r()(he.a,{className:"button button-secondary",to:a,onClick:this.handleClick("Context Card")},void 0,t("common:register")))))}}]),o}(O.PureComponent))||Mr)||Mr;function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var Vr=r()("span",{className:"currency"}),Kr=Object(K.a)(["c","t"])(Fr=function(e){f()(o,e);var t=Gr(o);function o(e){var n;return c()(this,o),(n=t.call(this)).clickHandler="function"==typeof e.onClick?e.onClick.bind(null,e.analyticsProps):void 0,n}return d()(o,[{key:"getLinkProps",value:function(){var e=this.props,t=e.deliveryMeta,o=e.t;return{to:t["delivery-description.href"],onClick:this.clickHandler,title:o("common:new-window"),target:"_blank",rel:"noopener noreferrer"}}},{key:"renderContent",value:function(){var e=this.props,t=e.deliveryMeta,o=e.c,n=t["delivery-description.picture"],a=t["delivery-description.ping.picture"],i=[{imageWidth:200,screenWidth:0},{imageWidth:270,screenWidth:o("responsive:largeMin")},{imageWidth:370,screenWidth:o("responsive:extraLargeMin")}],s=o("deliveryDescriptionAlternativeDesign"),c=o("deliveryDescriptionDoNotShowPicture"),l=t["delivery-description.learn-more"];return x.a.createElement(x.a.Fragment,null,!c&&r()("div",{className:"delivery-desc--picture-wrapper"},void 0,n&&r()(H.ResponsiveImage,{alt:"",className:"delivery-desc--picture",src:n,breakpoints:i,maxWidth:370}),a&&r()(H.ResponsiveImage,{alt:"",className:"delivery-desc--picture",src:a,maxWidth:370})),r()("div",{className:"delivery-desc--message"},void 0,r()("div",{className:"delivery-desc--line1 delivery-desc--message-bold"},void 0,t["delivery-description.delivered-by-tesco"]),r()("div",{className:"delivery-desc--line2"},void 0,r()("span",{},void 0,t["delivery-description.line1.next-day"]),r()("span",{},void 0,t["delivery-description.for-little"]),r()("span",{className:"delivery-desc--message-red"},void 0,t["min-price"],Vr)),r()("div",{className:"delivery-desc--line3"},void 0,r()("span",{},void 0,t["delivery-description.line2.click-collect"]),t["delivery-description.line2.for"],r()("span",{className:"delivery-desc--message-red"},void 0,t["delivery-description.line2.free"])),s?x.a.createElement(he.a,L()({className:"delivery-desc--line4"},this.getLinkProps()),l):r()("div",{className:"delivery-desc--line4"},void 0,l)))}},{key:"render",value:function(){var e=(0,this.props.c)("deliveryDescriptionAlternativeDesign");return x.a.createElement(x.a.Fragment,null,e?r()("div",{className:j()("delivery-desc","delivery-desc-alternative")},void 0,this.renderContent()):x.a.createElement(he.a,L()({className:"delivery-desc"},this.getLinkProps()),this.renderContent()))}}]),o}(O.Component))||Fr;var Zr=1,qr=2,Jr=3,Qr=4,$r=5,Xr=6,ea=1;function ta(e){return{UK:{meta:["category","source","signature","message"],content:[[Jr,ea,"","Order online anytime, anywhere. Then leave the rest to us. Well deliver to your door or car boot. Forgotten something? No problem. You can amend your order right up to 11.45pm the night before your slot. Shopping, sorted."],[Qr,ea,"","With over 500 locations across the country to collect from, you'll find a convenient, great-value slot that fits around your schedule. When it's your slot time, we'll have your shop ready and waiting for you. So now you're in the know, why not give it a go?"],[$r,ea,"","Want your bananas extra green or smaller jacket spuds? Just let us know. Add a note when you check out and well pass it on to our pickers."],[Xr,ea,"","Did you know, you can order homeware, cookware, toys, computer games, and lots of other products with your weekly shop?"]]},IE:{meta:["category","source","signature","message"],content:[[Qr,ea,"","With locations available nationwide to collect from, you can book a convenient slot, at a time that suits you for free. At your selected time, simply pull up at the designated Click+Collect area and pick-up your shop. So now youre in the know, why not give it a go?"],[Xr,ea,"","Did you know, you can order homeware, cookware, toys, computer games, and lot of other products with your weekly shop?"]]}}[e]}function oa(e){var t,o;return{UK:(t={},k()(t,Zr,{url:"/click-and-collect/",punchLine:"Click. Collect. Devour.",moreInfo:"More about Click+Collect"}),k()(t,qr,{url:"/deliverysaver/",punchLine:"A sweet deal on delivery.",moreInfo:"More about Delivery Saver"}),k()(t,Jr,{url:null,punchLine:"Shopping that works around you"}),k()(t,Qr,{url:null,punchLine:"Have you tried Click+Collect?"}),k()(t,$r,{url:null,punchLine:"Your shopping, picked personally"}),k()(t,Xr,{url:"/groceries/en-GB/zone/Homeware",punchLine:"Need a frying pan with your eggs?",moreInfo:"See Home and Entertainment"}),t),IE:(o={},k()(o,Qr,{url:null,punchLine:"Have you tried Click+Collect?"}),k()(o,Xr,{url:"/groceries/en-IE/shop/home-and-living/home-essentials/cookware",punchLine:"Need a frying pan with your eggs?",moreInfo:"See Home And Entertainment"}),o)}[e]}var na=["category","source","signature","message"],ra=na.indexOf("category"),aa=na.indexOf("source"),ia=na.indexOf("signature"),sa=na.indexOf("message"),ca=/@Tesco/gi;function la(e,t){var o='<a href="'.concat("https://twitter.com/Tesco",'" target="').concat(t.target,'" title="').concat(t.title,'" rel="noreferrer noopener">@Tesco</a>');return e.replace(ca,o)}var da=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,o=t.region,n=ta(o),r=n.content[e],a=oa(o),i=r[aa],s=r[ia],c=r[ra],l=a[c],d=l.moreInfo,u=l.punchLine,p=l.url,m=i===ea?la(r[sa],t):r[sa];return{html:m,moreInfo:d,punchLine:u,signature:s,url:p}}(e.messageIndex,{target:"propositionalTab",title:"",region:(0,e.c)("REGION")});return r()("aside",{className:"propositional-message"},void 0,r()("div",{className:"propositional-message--footer"},void 0,r()("h5",{},void 0,t.punchLine),t.url&&r()("p",{},void 0,r()(he.a,{to:t.url,target:"propositionalTab",rel:"noreferrer noopener",title:""},void 0,t.moreInfo))),r()("blockquote",{className:"propositional-message--content"},void 0,r()("p",{},void 0,r()(Me.a,{},void 0,t.html)),r()("p",{},void 0,r()("em",{},void 0,t.signature))))};da.defaultProps={messageIndex:0};var ua,pa=Object(K.a)(["t","c"])(da);function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var fa=r()("div",{className:"main-banner--sign-in-wrapper"},void 0,r()(Yr,{})),va=r()("div",{className:"main-banner--browse-wrapper"},void 0,r()(ge,{})),ha=Object(K.a)(["c"])(ua=Object(D.a)((function(e){return{isMobile:Object(N.I)(e),navItems:Object(Ho.d)(e),topNotification:A(_r.d)(e)}}))(ua=function(e){f()(o,e);var t=ma(o);function o(){return c()(this,o),t.apply(this,arguments)}return d()(o,[{key:"getMainBannerStyles",value:function(){return{minHeight:"".concat(this.props.navItems.length*Nr.b+Nr.c,"px")}}},{key:"render",value:function(){var e=j()("main-banner main-banner--signed-out"),t=this.props,o=t.user,n=t.welcomeTranslations,a=t.topNotification;return r()("div",{className:e},void 0,r()("div",{style:this.getMainBannerStyles(),className:"hidden-small-medium"}),r()("div",{className:"main-banner--content main-banner--content-signed-out"},void 0,a&&r()(Er,{data:a}),r()("div",{className:"main-banner--greeting-wrapper"},void 0,r()(Te,{user:o,welcomeTranslations:n})),r()("div",{className:"main-banner--row-1"},void 0,fa,r()("div",{className:"main-banner--delivery-wrapper"},void 0,this.getAdvertPanel()),va)))}},{key:"getAdvertPanel",value:function(){var e=this.props,t=e.c,o=e.propositionalMessageIndex,n=e.analyticsProps,a=e.deliveryMeta,i=e.propositionClickHandler;return t("propositionalMessageEnabled")?r()(pa,{messageIndex:o}):r()(Kr,{analyticsProps:n,deliveryMeta:a,onClick:i})}}]),o}(x.a.Component))||ua)||ua,ya=o(343),ba=xe.default.div.withConfig({displayName:"styled__BannerBackgroundImage",componentId:"sc-1alowy6-0"})([""," background-size:cover;background-color:",";background-repeat:no-repeat;height:100%;width:100%;overflow:hidden;position:absolute;z-index:0;@media (min-width:992px){width:100vw;}@media (min-width:1200px){left:calc((100vw - 1200px) / -2);}.ui-panel,picture img{height:100%;}"],(function(e){var t=e.path;return t&&"\n      background-image: url(".concat(t,");\n    ")}),we.colors.utils);ba.displayName="BannerBackgroundImage";var ga=xe.default.div.withConfig({displayName:"styled__HomepageHeader",componentId:"sc-1alowy6-1"})(["position:relative;background:",";.browse-store--button,.browse-favorites--button{background:",";border:none;color:",";margin-top:0;margin-bottom:0;}@media (min-width:992px){position:relative;max-width:1200px;margin:0 auto;}"],(function(e){return e.withBgColor&&we.colors.utils}),we.colors.background.base,(function(e){return"TH"===e.region?we.colors.lotusGreen:we.colors.tescoBlue}));ga.displayName="HomepageHeader";var ka,Oa=xe.default.div.withConfig({displayName:"styled__BackgroundOverlay",componentId:"sc-1alowy6-2"})(["background:rgba(0,0,0,0.1);height:100%;"]),xa=r()(Oa,{}),wa=r()(Oa,{}),ja=function(e){var t=e.data,o=e.fallbackImageSrc;return t?r()(ba,{},void 0,Object(Rr.b)({Image:H.Image,Panel:H.Panel},[t]),wa):r()(ba,{path:o},void 0,xa)},Da=o(88);function Na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=b()(e);if(t){var r=b()(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return h()(this,o)}}var _a=function(e){var t,o=Object(_.m)(e),n=Object(S.z)(e),r=Object(S.Cb)(e),a=A(_r.a)(e);return{address:Object(S.fb)(e),analyticsData:T(e),backgroundImageData:a,bookedSlot:Object(S.Q)(e),homePageResource:Object(C.n)(e),isAmendBasket:n,isUserAuthenticated:o,isUserRegistered:Object(_.n)(e),trolleyItems:Object(S.N)(e),trolleyUpdating:Object(S.L)(e),user:Object(_.p)(e),currentUrl:Object(N.u)(e),isMobile:Object(N.I)(e),region:Object(N.j)(e),showBackgroundImage:o&&!r||!o,contextCard:(t=_r.c,function(e){var o,n=A(t)(e);return n?P(P({},n.props),null===(o=n.children)||void 0===o?void 0:o[0].props):null})(e)}},Sa=Object(K.a)(["asset","t"])(ka=Object(D.a)(_a)(ka=function(e){f()(o,e);var t=Na(o);function o(){var e;c()(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),k()(p()(e),"componentClickHandler",(function(e){var t=e.contentId,o=e.title,n=e.posInPanel,r=e.placement,a=e.catId,i=e.segments,s=e.ruleId,c=e.trackingId;Object(Da.b)({displayArea:"m-of",pageType:"home",panel:[{campaignId:c||(t?t.trim():a),campaignTitle:o,trackingId:c,contentSegment:i,posInModule:n,ruleId:s}],modulePosition:r})})),e}return d()(o,[{key:"getWelcomeTranslations",value:function(){var e=this.props,t=e.t;return{"welcome-message":t(e.isUserAuthenticated?"home:welcome-message":"home:welcome-message-signed-out"),"username-message":t("home:welcome-name")}}},{key:"getHeader",value:function(e){var t=e.homeConfig,o=e.propositionalMessageIndex,n=i()(e,["homeConfig","propositionalMessageIndex"]),a=this.props,s=a.isUserAuthenticated,c=a.isAmendBasket,l=a.trolleyItems,d=a.bookedSlot,u=a.address,p=a.user,m=t||{},f=this.getWelcomeTranslations();return s?r()(Br,{isAmendBasket:c,trolleyItems:l,slot:d,address:u,user:p,welcomeTranslations:f}):r()(ha,{analyticsProps:n,deliveryMeta:m,propositionClickHandler:this.componentClickHandler,propositionalMessageIndex:o,user:p,welcomeTranslations:f})}},{key:"componentDidMount",value:function(){var e=this.props.homePageResource.data,t=(e=void 0===e?{}:e).experiments;Object(re.b)(t)}},{key:"render",value:function(){var e=this.props,t=e.analyticsData,o=e.asset,n=e.backgroundImageData,a=e.homePageResource,i=e.isAmendBasket,s=e.user,c=e.isUserAuthenticated,l=e.isMobile,d=e.region,u=e.contextCard,p=a.data.content.main,m=r()(me,{isAmendBasket:i,cmsData:p,shared:{componentClickHandler:this.componentClickHandler}}),f=Object(ya.a)({user:s}),v=this.getHeader(u),h=c&&!l,y=this.props.showBackgroundImage;return r()("div",{className:j()("home-page--contents-inner-wrapper",{"logged-in":c})},void 0,r()(ga,{withBgColor:y,region:d},void 0,y&&r()(ja,{data:n,fallbackImageSrc:o(_r.b)}),v),r()("div",{className:"home-page"},void 0,r()("div",{className:j()("home-page__assets",{"has-trolley":h})},void 0,r()("div",{className:"home__content-area"},void 0,r()(H.DfpContainer,{pageId:"homepage",targeting:f}),m,r()(fe.a,{data:t,pageName:"home",sectionOrder:["main","unordered"]})))))}}]),o}(O.Component))||ka)||ka}})}));
//# sourceMappingURL=static-home.bundle.6eb010f15c2a59de73b2.js.map